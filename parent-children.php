<?php
// This script and data application were generated by AppGini 22.13
// Download AppGini for free from https://bigprof.com/appgini/download/

	/* Configuration */
	/*************************************/

		$pcConfig = [
			'gmt_fleet_register' => [
			],
			'log_sheet' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'fuel_log_sheet_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Logs: <span class="hidden child-label-log_sheet child-field-caption">(Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/Lime-Dossier.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Fuel Log Sheet ID:', 1 => 'Registration Number:', 2 => 'Register Number:', 3 => 'Make of Vehicle:', 4 => 'Model of Vehicle:', 5 => 'Year Model Specification:', 6 => 'Colour of Vehicle:', 7 => 'Engine Capacity (cc):', 8 => 'License Expiry Date:', 9 => 'District and Station:', 10 => 'Log Sheet - Year & Month:', 11 => 'Driver\'s Surname:', 12 => 'Driver\'s Persal Number:', 13 => 'Odometer Reading/Opening KM:', 14 => 'Total Trip Distance KM:', 15 => 'Odometer Reading/Closing KM:', 16 => 'Fuel Type:', 17 => 'Fuel Tank Capacity:', 18 => 'Vendor/Fuel Station/Garage:', 19 => 'Fuel Cost Litre (R/L):', 20 => 'Refuel Quantity L [1]:', 21 => 'Refuel Date (First Time ):', 22 => 'Trip Distance After 1st Refuel KM:', 23 => 'Refuel Quantity  L [2]:', 24 => 'Refuel Date (Second Time ):', 25 => 'Trip Distance After 2nd Refuel KM:', 26 => 'Refuel Quantity L [3]:', 27 => 'Refuel Date (Third Time ):', 28 => 'Trip Distance After 3rd Refuel KM:', 29 => 'Refuel Quantity L [4]:', 30 => 'Refuel Date (Fouth Time ):', 31 => 'Trip Distance After 4th Refuel KM:', 32 => 'Refuel Quantity L [5]:', 33 => 'Refuel Date (Fifth Time ):', 34 => 'Trip Distance After 5th Refuel KM:', 35 => 'Refuel Quantity L [6]:', 36 => 'Trip Distance After 6th Refuel KM:', 37 => 'Refuel Date (Sixth Time ):', 38 => 'Times Refuel Current Month:', 39 => 'Total Fuel Quantity (L):', 40 => 'Fuel Consumption (Km/L):', 41 => 'Fuel Total Cost (R):', 42 => 'Payment with e-Fuel Card?', 43 => 'Captured By:', 44 => 'Comments:', 45 => 'Date Captured:', 46 => 'Complete Fill Up:'],
					'display-field-names' => [0 => 'fuel_log_sheet_id', 1 => 'vehicle_registration_number', 2 => 'register_number', 3 => 'make_of_vehicle', 4 => 'model_of_vehicle', 5 => 'year_model_specification', 6 => 'colour_of_vehicle', 7 => 'engine_capacity', 8 => 'renewal_of_license', 9 => 'district', 10 => 'month', 11 => 'drivers_name_and_surname', 12 => 'drivers_persal_number', 13 => 'opening_km', 14 => 'total_trip_distance', 15 => 'closing_km', 16 => 'fuel_type', 17 => 'fuel_tank_capacity', 18 => 'vendor', 19 => 'fuel_cost_litre', 20 => 'refuel_quantity_1', 21 => 'refuel_first_time_date', 22 => 'trip_distance_refuel_1', 23 => 'refuel_quantity_2', 24 => 'refuel_second_time_date', 25 => 'trip_distance_refuel_2', 26 => 'refuel_quantity_3', 27 => 'refuel_third_time_date', 28 => 'trip_distance_refuel_3', 29 => 'refuel_quantity_4', 30 => 'refuel_fourth_time_date', 31 => 'trip_distance_refuel_4', 32 => 'refuel_quantity_5', 33 => 'refuel_fifth_time_date', 34 => 'trip_distance_refuel_5', 35 => 'refuel_quantity_6', 36 => 'trip_distance_refuel_6', 37 => 'refuel_sixth_time_date', 38 => 'times_refuel_current_month', 39 => 'total_fuel_quantity', 40 => 'fuel_consumption', 41 => 'fuel_total_cost', 42 => 'payment_e_fuel_card', 43 => 'captured_by', 44 => 'comments', 45 => 'date_captured', 46 => 'complete_fill_up'],
					'sortable-fields' => [0 => '`log_sheet`.`fuel_log_sheet_id`', 1 => '`gmt_fleet_register1`.`vehicle_registration_number`', 2 => '`gmt_fleet_register2`.`register_number`', 3 => 4, 4 => '`gmt_fleet_register3`.`model_of_vehicle`', 5 => 6, 6 => '`vehicle_colour1`.`colour_of_vehicle`', 7 => '`gmt_fleet_register1`.`engine_capacity`', 8 => '`log_sheet`.`renewal_of_license`', 9 => 10, 10 => '`log_sheet`.`month`', 11 => '`driver1`.`drivers_name_and_surname`', 12 => '`driver1`.`drivers_persal_number`', 13 => 14, 14 => 15, 15 => 16, 16 => '`fuel_type1`.`fuel_type`', 17 => '`log_sheet`.`fuel_tank_capacity`', 18 => 19, 19 => '`log_sheet`.`fuel_cost_litre`', 20 => '`log_sheet`.`refuel_quantity_1`', 21 => '`log_sheet`.`refuel_first_time_date`', 22 => 23, 23 => '`log_sheet`.`refuel_quantity_2`', 24 => '`log_sheet`.`refuel_second_time_date`', 25 => 26, 26 => '`log_sheet`.`refuel_quantity_3`', 27 => '`log_sheet`.`refuel_third_time_date`', 28 => 29, 29 => '`log_sheet`.`refuel_quantity_4`', 30 => '`log_sheet`.`refuel_fourth_time_date`', 31 => 32, 32 => '`log_sheet`.`refuel_quantity_5`', 33 => '`log_sheet`.`refuel_fifth_time_date`', 34 => 35, 35 => '`log_sheet`.`refuel_quantity_6`', 36 => 37, 37 => '`log_sheet`.`refuel_sixth_time_date`', 38 => '`log_sheet`.`times_refuel_current_month`', 39 => '`log_sheet`.`total_fuel_quantity`', 40 => '`log_sheet`.`fuel_consumption`', 41 => '`log_sheet`.`fuel_total_cost`', 42 => 43, 43 => 44, 44 => 45, 45 => '`log_sheet`.`date_captured`', 46 => 47],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-log_sheet',
					'template-printable' => 'children-log_sheet-printable',
					'query' => "SELECT `log_sheet`.`fuel_log_sheet_id` as 'fuel_log_sheet_id', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register2`.`register_number`), CONCAT_WS('',   `gmt_fleet_register2`.`register_number`), '') as 'register_number', IF(    CHAR_LENGTH(`dealer1`.`make_of_vehicle`), CONCAT_WS('',   `dealer1`.`make_of_vehicle`, '   '), '') as 'make_of_vehicle', IF(    CHAR_LENGTH(`gmt_fleet_register3`.`model_of_vehicle`), CONCAT_WS('',   `gmt_fleet_register3`.`model_of_vehicle`), '') as 'model_of_vehicle', IF(    CHAR_LENGTH(`year_model1`.`year_model_specification`), CONCAT_WS('',   `year_model1`.`year_model_specification`), '') as 'year_model_specification', IF(    CHAR_LENGTH(`vehicle_colour1`.`colour_of_vehicle`), CONCAT_WS('',   `vehicle_colour1`.`colour_of_vehicle`), '') as 'colour_of_vehicle', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`engine_capacity`), CONCAT_WS('',   `gmt_fleet_register1`.`engine_capacity`), '') as 'engine_capacity', DATE_FORMAT(`log_sheet`.`renewal_of_license`, '%b %D, %Y %l:%i%p') as 'renewal_of_license', IF(    CHAR_LENGTH(`districts1`.`district`) || CHAR_LENGTH(`districts1`.`station`) || CHAR_LENGTH(`province1`.`province`), CONCAT_WS('',   `districts1`.`district`, '     |     and     |     ', `districts1`.`station`, `province1`.`province`), '') as 'district', DATE_FORMAT(`log_sheet`.`month`, '%D %b %Y %l:%i%p') as 'month', IF(    CHAR_LENGTH(`driver1`.`drivers_name_and_surname`), CONCAT_WS('',   `driver1`.`drivers_name_and_surname`), '') as 'drivers_name_and_surname', IF(    CHAR_LENGTH(`driver1`.`drivers_persal_number`), CONCAT_WS('',   `driver1`.`drivers_persal_number`), '') as 'drivers_persal_number', `log_sheet`.`opening_km` as 'opening_km', `log_sheet`.`total_trip_distance` as 'total_trip_distance', `log_sheet`.`closing_km` as 'closing_km', IF(    CHAR_LENGTH(`fuel_type1`.`fuel_type`), CONCAT_WS('',   `fuel_type1`.`fuel_type`), '') as 'fuel_type', `log_sheet`.`fuel_tank_capacity` as 'fuel_tank_capacity', `log_sheet`.`vendor` as 'vendor', `log_sheet`.`fuel_cost_litre` as 'fuel_cost_litre', `log_sheet`.`refuel_quantity_1` as 'refuel_quantity_1', if(`log_sheet`.`refuel_first_time_date`,date_format(`log_sheet`.`refuel_first_time_date`,'%d/%m/%Y'),'') as 'refuel_first_time_date', `log_sheet`.`trip_distance_refuel_1` as 'trip_distance_refuel_1', `log_sheet`.`refuel_quantity_2` as 'refuel_quantity_2', if(`log_sheet`.`refuel_second_time_date`,date_format(`log_sheet`.`refuel_second_time_date`,'%d/%m/%Y'),'') as 'refuel_second_time_date', `log_sheet`.`trip_distance_refuel_2` as 'trip_distance_refuel_2', `log_sheet`.`refuel_quantity_3` as 'refuel_quantity_3', if(`log_sheet`.`refuel_third_time_date`,date_format(`log_sheet`.`refuel_third_time_date`,'%d/%m/%Y'),'') as 'refuel_third_time_date', `log_sheet`.`trip_distance_refuel_3` as 'trip_distance_refuel_3', `log_sheet`.`refuel_quantity_4` as 'refuel_quantity_4', if(`log_sheet`.`refuel_fourth_time_date`,date_format(`log_sheet`.`refuel_fourth_time_date`,'%d/%m/%Y'),'') as 'refuel_fourth_time_date', `log_sheet`.`trip_distance_refuel_4` as 'trip_distance_refuel_4', `log_sheet`.`refuel_quantity_5` as 'refuel_quantity_5', if(`log_sheet`.`refuel_fifth_time_date`,date_format(`log_sheet`.`refuel_fifth_time_date`,'%d/%m/%Y'),'') as 'refuel_fifth_time_date', `log_sheet`.`trip_distance_refuel_5` as 'trip_distance_refuel_5', `log_sheet`.`refuel_quantity_6` as 'refuel_quantity_6', `log_sheet`.`trip_distance_refuel_6` as 'trip_distance_refuel_6', if(`log_sheet`.`refuel_sixth_time_date`,date_format(`log_sheet`.`refuel_sixth_time_date`,'%d/%m/%Y'),'') as 'refuel_sixth_time_date', `log_sheet`.`times_refuel_current_month` as 'times_refuel_current_month', `log_sheet`.`total_fuel_quantity` as 'total_fuel_quantity', `log_sheet`.`fuel_consumption` as 'fuel_consumption', `log_sheet`.`fuel_total_cost` as 'fuel_total_cost', `log_sheet`.`payment_e_fuel_card` as 'payment_e_fuel_card', `log_sheet`.`captured_by` as 'captured_by', `log_sheet`.`comments` as 'comments', DATE_FORMAT(`log_sheet`.`date_captured`, '%e/%c/%Y %l:%i%p') as 'date_captured', `log_sheet`.`complete_fill_up` as 'complete_fill_up' FROM `log_sheet` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`log_sheet`.`vehicle_registration_number` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register2 ON `gmt_fleet_register2`.`fleet_asset_id`=`log_sheet`.`register_number` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register3 ON `gmt_fleet_register3`.`fleet_asset_id`=`log_sheet`.`model_of_vehicle` LEFT JOIN `vehicle_colour` as vehicle_colour1 ON `vehicle_colour1`.`vehicle_colour_id`=`log_sheet`.`colour_of_vehicle` LEFT JOIN `driver` as driver1 ON `driver1`.`driver_id`=`log_sheet`.`drivers_name_and_surname` LEFT JOIN `fuel_type` as fuel_type1 ON `fuel_type1`.`fuel_type_id`=`log_sheet`.`fuel_type` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`gmt_fleet_register1`.`make_of_vehicle` LEFT JOIN `year_model` as year_model1 ON `year_model1`.`year_model_id`=`gmt_fleet_register1`.`year_model_specification` LEFT JOIN `districts` as districts1 ON `districts1`.`district_id`=`gmt_fleet_register1`.`district` LEFT JOIN `province` as province1 ON `province1`.`province_id`=`gmt_fleet_register1`.`province` "
				],
				'register_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'fuel_log_sheet_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Logs: <span class="hidden child-label-log_sheet child-field-caption">(Register Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/Lime-Dossier.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Fuel Log Sheet ID:', 1 => 'Registration Number:', 2 => 'Register Number:', 3 => 'Make of Vehicle:', 4 => 'Model of Vehicle:', 5 => 'Year Model Specification:', 6 => 'Colour of Vehicle:', 7 => 'Engine Capacity (cc):', 8 => 'License Expiry Date:', 9 => 'District and Station:', 10 => 'Log Sheet - Year & Month:', 11 => 'Driver\'s Surname:', 12 => 'Driver\'s Persal Number:', 13 => 'Odometer Reading/Opening KM:', 14 => 'Total Trip Distance KM:', 15 => 'Odometer Reading/Closing KM:', 16 => 'Fuel Type:', 17 => 'Fuel Tank Capacity:', 18 => 'Vendor/Fuel Station/Garage:', 19 => 'Fuel Cost Litre (R/L):', 20 => 'Refuel Quantity L [1]:', 21 => 'Refuel Date (First Time ):', 22 => 'Trip Distance After 1st Refuel KM:', 23 => 'Refuel Quantity  L [2]:', 24 => 'Refuel Date (Second Time ):', 25 => 'Trip Distance After 2nd Refuel KM:', 26 => 'Refuel Quantity L [3]:', 27 => 'Refuel Date (Third Time ):', 28 => 'Trip Distance After 3rd Refuel KM:', 29 => 'Refuel Quantity L [4]:', 30 => 'Refuel Date (Fouth Time ):', 31 => 'Trip Distance After 4th Refuel KM:', 32 => 'Refuel Quantity L [5]:', 33 => 'Refuel Date (Fifth Time ):', 34 => 'Trip Distance After 5th Refuel KM:', 35 => 'Refuel Quantity L [6]:', 36 => 'Trip Distance After 6th Refuel KM:', 37 => 'Refuel Date (Sixth Time ):', 38 => 'Times Refuel Current Month:', 39 => 'Total Fuel Quantity (L):', 40 => 'Fuel Consumption (Km/L):', 41 => 'Fuel Total Cost (R):', 42 => 'Payment with e-Fuel Card?', 43 => 'Captured By:', 44 => 'Comments:', 45 => 'Date Captured:', 46 => 'Complete Fill Up:'],
					'display-field-names' => [0 => 'fuel_log_sheet_id', 1 => 'vehicle_registration_number', 2 => 'register_number', 3 => 'make_of_vehicle', 4 => 'model_of_vehicle', 5 => 'year_model_specification', 6 => 'colour_of_vehicle', 7 => 'engine_capacity', 8 => 'renewal_of_license', 9 => 'district', 10 => 'month', 11 => 'drivers_name_and_surname', 12 => 'drivers_persal_number', 13 => 'opening_km', 14 => 'total_trip_distance', 15 => 'closing_km', 16 => 'fuel_type', 17 => 'fuel_tank_capacity', 18 => 'vendor', 19 => 'fuel_cost_litre', 20 => 'refuel_quantity_1', 21 => 'refuel_first_time_date', 22 => 'trip_distance_refuel_1', 23 => 'refuel_quantity_2', 24 => 'refuel_second_time_date', 25 => 'trip_distance_refuel_2', 26 => 'refuel_quantity_3', 27 => 'refuel_third_time_date', 28 => 'trip_distance_refuel_3', 29 => 'refuel_quantity_4', 30 => 'refuel_fourth_time_date', 31 => 'trip_distance_refuel_4', 32 => 'refuel_quantity_5', 33 => 'refuel_fifth_time_date', 34 => 'trip_distance_refuel_5', 35 => 'refuel_quantity_6', 36 => 'trip_distance_refuel_6', 37 => 'refuel_sixth_time_date', 38 => 'times_refuel_current_month', 39 => 'total_fuel_quantity', 40 => 'fuel_consumption', 41 => 'fuel_total_cost', 42 => 'payment_e_fuel_card', 43 => 'captured_by', 44 => 'comments', 45 => 'date_captured', 46 => 'complete_fill_up'],
					'sortable-fields' => [0 => '`log_sheet`.`fuel_log_sheet_id`', 1 => '`gmt_fleet_register1`.`vehicle_registration_number`', 2 => '`gmt_fleet_register2`.`register_number`', 3 => 4, 4 => '`gmt_fleet_register3`.`model_of_vehicle`', 5 => 6, 6 => '`vehicle_colour1`.`colour_of_vehicle`', 7 => '`gmt_fleet_register1`.`engine_capacity`', 8 => '`log_sheet`.`renewal_of_license`', 9 => 10, 10 => '`log_sheet`.`month`', 11 => '`driver1`.`drivers_name_and_surname`', 12 => '`driver1`.`drivers_persal_number`', 13 => 14, 14 => 15, 15 => 16, 16 => '`fuel_type1`.`fuel_type`', 17 => '`log_sheet`.`fuel_tank_capacity`', 18 => 19, 19 => '`log_sheet`.`fuel_cost_litre`', 20 => '`log_sheet`.`refuel_quantity_1`', 21 => '`log_sheet`.`refuel_first_time_date`', 22 => 23, 23 => '`log_sheet`.`refuel_quantity_2`', 24 => '`log_sheet`.`refuel_second_time_date`', 25 => 26, 26 => '`log_sheet`.`refuel_quantity_3`', 27 => '`log_sheet`.`refuel_third_time_date`', 28 => 29, 29 => '`log_sheet`.`refuel_quantity_4`', 30 => '`log_sheet`.`refuel_fourth_time_date`', 31 => 32, 32 => '`log_sheet`.`refuel_quantity_5`', 33 => '`log_sheet`.`refuel_fifth_time_date`', 34 => 35, 35 => '`log_sheet`.`refuel_quantity_6`', 36 => 37, 37 => '`log_sheet`.`refuel_sixth_time_date`', 38 => '`log_sheet`.`times_refuel_current_month`', 39 => '`log_sheet`.`total_fuel_quantity`', 40 => '`log_sheet`.`fuel_consumption`', 41 => '`log_sheet`.`fuel_total_cost`', 42 => 43, 43 => 44, 44 => 45, 45 => '`log_sheet`.`date_captured`', 46 => 47],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-log_sheet',
					'template-printable' => 'children-log_sheet-printable',
					'query' => "SELECT `log_sheet`.`fuel_log_sheet_id` as 'fuel_log_sheet_id', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register2`.`register_number`), CONCAT_WS('',   `gmt_fleet_register2`.`register_number`), '') as 'register_number', IF(    CHAR_LENGTH(`dealer1`.`make_of_vehicle`), CONCAT_WS('',   `dealer1`.`make_of_vehicle`, '   '), '') as 'make_of_vehicle', IF(    CHAR_LENGTH(`gmt_fleet_register3`.`model_of_vehicle`), CONCAT_WS('',   `gmt_fleet_register3`.`model_of_vehicle`), '') as 'model_of_vehicle', IF(    CHAR_LENGTH(`year_model1`.`year_model_specification`), CONCAT_WS('',   `year_model1`.`year_model_specification`), '') as 'year_model_specification', IF(    CHAR_LENGTH(`vehicle_colour1`.`colour_of_vehicle`), CONCAT_WS('',   `vehicle_colour1`.`colour_of_vehicle`), '') as 'colour_of_vehicle', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`engine_capacity`), CONCAT_WS('',   `gmt_fleet_register1`.`engine_capacity`), '') as 'engine_capacity', DATE_FORMAT(`log_sheet`.`renewal_of_license`, '%b %D, %Y %l:%i%p') as 'renewal_of_license', IF(    CHAR_LENGTH(`districts1`.`district`) || CHAR_LENGTH(`districts1`.`station`) || CHAR_LENGTH(`province1`.`province`), CONCAT_WS('',   `districts1`.`district`, '     |     and     |     ', `districts1`.`station`, `province1`.`province`), '') as 'district', DATE_FORMAT(`log_sheet`.`month`, '%D %b %Y %l:%i%p') as 'month', IF(    CHAR_LENGTH(`driver1`.`drivers_name_and_surname`), CONCAT_WS('',   `driver1`.`drivers_name_and_surname`), '') as 'drivers_name_and_surname', IF(    CHAR_LENGTH(`driver1`.`drivers_persal_number`), CONCAT_WS('',   `driver1`.`drivers_persal_number`), '') as 'drivers_persal_number', `log_sheet`.`opening_km` as 'opening_km', `log_sheet`.`total_trip_distance` as 'total_trip_distance', `log_sheet`.`closing_km` as 'closing_km', IF(    CHAR_LENGTH(`fuel_type1`.`fuel_type`), CONCAT_WS('',   `fuel_type1`.`fuel_type`), '') as 'fuel_type', `log_sheet`.`fuel_tank_capacity` as 'fuel_tank_capacity', `log_sheet`.`vendor` as 'vendor', `log_sheet`.`fuel_cost_litre` as 'fuel_cost_litre', `log_sheet`.`refuel_quantity_1` as 'refuel_quantity_1', if(`log_sheet`.`refuel_first_time_date`,date_format(`log_sheet`.`refuel_first_time_date`,'%d/%m/%Y'),'') as 'refuel_first_time_date', `log_sheet`.`trip_distance_refuel_1` as 'trip_distance_refuel_1', `log_sheet`.`refuel_quantity_2` as 'refuel_quantity_2', if(`log_sheet`.`refuel_second_time_date`,date_format(`log_sheet`.`refuel_second_time_date`,'%d/%m/%Y'),'') as 'refuel_second_time_date', `log_sheet`.`trip_distance_refuel_2` as 'trip_distance_refuel_2', `log_sheet`.`refuel_quantity_3` as 'refuel_quantity_3', if(`log_sheet`.`refuel_third_time_date`,date_format(`log_sheet`.`refuel_third_time_date`,'%d/%m/%Y'),'') as 'refuel_third_time_date', `log_sheet`.`trip_distance_refuel_3` as 'trip_distance_refuel_3', `log_sheet`.`refuel_quantity_4` as 'refuel_quantity_4', if(`log_sheet`.`refuel_fourth_time_date`,date_format(`log_sheet`.`refuel_fourth_time_date`,'%d/%m/%Y'),'') as 'refuel_fourth_time_date', `log_sheet`.`trip_distance_refuel_4` as 'trip_distance_refuel_4', `log_sheet`.`refuel_quantity_5` as 'refuel_quantity_5', if(`log_sheet`.`refuel_fifth_time_date`,date_format(`log_sheet`.`refuel_fifth_time_date`,'%d/%m/%Y'),'') as 'refuel_fifth_time_date', `log_sheet`.`trip_distance_refuel_5` as 'trip_distance_refuel_5', `log_sheet`.`refuel_quantity_6` as 'refuel_quantity_6', `log_sheet`.`trip_distance_refuel_6` as 'trip_distance_refuel_6', if(`log_sheet`.`refuel_sixth_time_date`,date_format(`log_sheet`.`refuel_sixth_time_date`,'%d/%m/%Y'),'') as 'refuel_sixth_time_date', `log_sheet`.`times_refuel_current_month` as 'times_refuel_current_month', `log_sheet`.`total_fuel_quantity` as 'total_fuel_quantity', `log_sheet`.`fuel_consumption` as 'fuel_consumption', `log_sheet`.`fuel_total_cost` as 'fuel_total_cost', `log_sheet`.`payment_e_fuel_card` as 'payment_e_fuel_card', `log_sheet`.`captured_by` as 'captured_by', `log_sheet`.`comments` as 'comments', DATE_FORMAT(`log_sheet`.`date_captured`, '%e/%c/%Y %l:%i%p') as 'date_captured', `log_sheet`.`complete_fill_up` as 'complete_fill_up' FROM `log_sheet` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`log_sheet`.`vehicle_registration_number` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register2 ON `gmt_fleet_register2`.`fleet_asset_id`=`log_sheet`.`register_number` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register3 ON `gmt_fleet_register3`.`fleet_asset_id`=`log_sheet`.`model_of_vehicle` LEFT JOIN `vehicle_colour` as vehicle_colour1 ON `vehicle_colour1`.`vehicle_colour_id`=`log_sheet`.`colour_of_vehicle` LEFT JOIN `driver` as driver1 ON `driver1`.`driver_id`=`log_sheet`.`drivers_name_and_surname` LEFT JOIN `fuel_type` as fuel_type1 ON `fuel_type1`.`fuel_type_id`=`log_sheet`.`fuel_type` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`gmt_fleet_register1`.`make_of_vehicle` LEFT JOIN `year_model` as year_model1 ON `year_model1`.`year_model_id`=`gmt_fleet_register1`.`year_model_specification` LEFT JOIN `districts` as districts1 ON `districts1`.`district_id`=`gmt_fleet_register1`.`district` LEFT JOIN `province` as province1 ON `province1`.`province_id`=`gmt_fleet_register1`.`province` "
				],
				'model_of_vehicle' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'fuel_log_sheet_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Logs: <span class="hidden child-label-log_sheet child-field-caption">(Model of Vehicle:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/Lime-Dossier.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Fuel Log Sheet ID:', 1 => 'Registration Number:', 2 => 'Register Number:', 3 => 'Make of Vehicle:', 4 => 'Model of Vehicle:', 5 => 'Year Model Specification:', 6 => 'Colour of Vehicle:', 7 => 'Engine Capacity (cc):', 8 => 'License Expiry Date:', 9 => 'District and Station:', 10 => 'Log Sheet - Year & Month:', 11 => 'Driver\'s Surname:', 12 => 'Driver\'s Persal Number:', 13 => 'Odometer Reading/Opening KM:', 14 => 'Total Trip Distance KM:', 15 => 'Odometer Reading/Closing KM:', 16 => 'Fuel Type:', 17 => 'Fuel Tank Capacity:', 18 => 'Vendor/Fuel Station/Garage:', 19 => 'Fuel Cost Litre (R/L):', 20 => 'Refuel Quantity L [1]:', 21 => 'Refuel Date (First Time ):', 22 => 'Trip Distance After 1st Refuel KM:', 23 => 'Refuel Quantity  L [2]:', 24 => 'Refuel Date (Second Time ):', 25 => 'Trip Distance After 2nd Refuel KM:', 26 => 'Refuel Quantity L [3]:', 27 => 'Refuel Date (Third Time ):', 28 => 'Trip Distance After 3rd Refuel KM:', 29 => 'Refuel Quantity L [4]:', 30 => 'Refuel Date (Fouth Time ):', 31 => 'Trip Distance After 4th Refuel KM:', 32 => 'Refuel Quantity L [5]:', 33 => 'Refuel Date (Fifth Time ):', 34 => 'Trip Distance After 5th Refuel KM:', 35 => 'Refuel Quantity L [6]:', 36 => 'Trip Distance After 6th Refuel KM:', 37 => 'Refuel Date (Sixth Time ):', 38 => 'Times Refuel Current Month:', 39 => 'Total Fuel Quantity (L):', 40 => 'Fuel Consumption (Km/L):', 41 => 'Fuel Total Cost (R):', 42 => 'Payment with e-Fuel Card?', 43 => 'Captured By:', 44 => 'Comments:', 45 => 'Date Captured:', 46 => 'Complete Fill Up:'],
					'display-field-names' => [0 => 'fuel_log_sheet_id', 1 => 'vehicle_registration_number', 2 => 'register_number', 3 => 'make_of_vehicle', 4 => 'model_of_vehicle', 5 => 'year_model_specification', 6 => 'colour_of_vehicle', 7 => 'engine_capacity', 8 => 'renewal_of_license', 9 => 'district', 10 => 'month', 11 => 'drivers_name_and_surname', 12 => 'drivers_persal_number', 13 => 'opening_km', 14 => 'total_trip_distance', 15 => 'closing_km', 16 => 'fuel_type', 17 => 'fuel_tank_capacity', 18 => 'vendor', 19 => 'fuel_cost_litre', 20 => 'refuel_quantity_1', 21 => 'refuel_first_time_date', 22 => 'trip_distance_refuel_1', 23 => 'refuel_quantity_2', 24 => 'refuel_second_time_date', 25 => 'trip_distance_refuel_2', 26 => 'refuel_quantity_3', 27 => 'refuel_third_time_date', 28 => 'trip_distance_refuel_3', 29 => 'refuel_quantity_4', 30 => 'refuel_fourth_time_date', 31 => 'trip_distance_refuel_4', 32 => 'refuel_quantity_5', 33 => 'refuel_fifth_time_date', 34 => 'trip_distance_refuel_5', 35 => 'refuel_quantity_6', 36 => 'trip_distance_refuel_6', 37 => 'refuel_sixth_time_date', 38 => 'times_refuel_current_month', 39 => 'total_fuel_quantity', 40 => 'fuel_consumption', 41 => 'fuel_total_cost', 42 => 'payment_e_fuel_card', 43 => 'captured_by', 44 => 'comments', 45 => 'date_captured', 46 => 'complete_fill_up'],
					'sortable-fields' => [0 => '`log_sheet`.`fuel_log_sheet_id`', 1 => '`gmt_fleet_register1`.`vehicle_registration_number`', 2 => '`gmt_fleet_register2`.`register_number`', 3 => 4, 4 => '`gmt_fleet_register3`.`model_of_vehicle`', 5 => 6, 6 => '`vehicle_colour1`.`colour_of_vehicle`', 7 => '`gmt_fleet_register1`.`engine_capacity`', 8 => '`log_sheet`.`renewal_of_license`', 9 => 10, 10 => '`log_sheet`.`month`', 11 => '`driver1`.`drivers_name_and_surname`', 12 => '`driver1`.`drivers_persal_number`', 13 => 14, 14 => 15, 15 => 16, 16 => '`fuel_type1`.`fuel_type`', 17 => '`log_sheet`.`fuel_tank_capacity`', 18 => 19, 19 => '`log_sheet`.`fuel_cost_litre`', 20 => '`log_sheet`.`refuel_quantity_1`', 21 => '`log_sheet`.`refuel_first_time_date`', 22 => 23, 23 => '`log_sheet`.`refuel_quantity_2`', 24 => '`log_sheet`.`refuel_second_time_date`', 25 => 26, 26 => '`log_sheet`.`refuel_quantity_3`', 27 => '`log_sheet`.`refuel_third_time_date`', 28 => 29, 29 => '`log_sheet`.`refuel_quantity_4`', 30 => '`log_sheet`.`refuel_fourth_time_date`', 31 => 32, 32 => '`log_sheet`.`refuel_quantity_5`', 33 => '`log_sheet`.`refuel_fifth_time_date`', 34 => 35, 35 => '`log_sheet`.`refuel_quantity_6`', 36 => 37, 37 => '`log_sheet`.`refuel_sixth_time_date`', 38 => '`log_sheet`.`times_refuel_current_month`', 39 => '`log_sheet`.`total_fuel_quantity`', 40 => '`log_sheet`.`fuel_consumption`', 41 => '`log_sheet`.`fuel_total_cost`', 42 => 43, 43 => 44, 44 => 45, 45 => '`log_sheet`.`date_captured`', 46 => 47],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-log_sheet',
					'template-printable' => 'children-log_sheet-printable',
					'query' => "SELECT `log_sheet`.`fuel_log_sheet_id` as 'fuel_log_sheet_id', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register2`.`register_number`), CONCAT_WS('',   `gmt_fleet_register2`.`register_number`), '') as 'register_number', IF(    CHAR_LENGTH(`dealer1`.`make_of_vehicle`), CONCAT_WS('',   `dealer1`.`make_of_vehicle`, '   '), '') as 'make_of_vehicle', IF(    CHAR_LENGTH(`gmt_fleet_register3`.`model_of_vehicle`), CONCAT_WS('',   `gmt_fleet_register3`.`model_of_vehicle`), '') as 'model_of_vehicle', IF(    CHAR_LENGTH(`year_model1`.`year_model_specification`), CONCAT_WS('',   `year_model1`.`year_model_specification`), '') as 'year_model_specification', IF(    CHAR_LENGTH(`vehicle_colour1`.`colour_of_vehicle`), CONCAT_WS('',   `vehicle_colour1`.`colour_of_vehicle`), '') as 'colour_of_vehicle', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`engine_capacity`), CONCAT_WS('',   `gmt_fleet_register1`.`engine_capacity`), '') as 'engine_capacity', DATE_FORMAT(`log_sheet`.`renewal_of_license`, '%b %D, %Y %l:%i%p') as 'renewal_of_license', IF(    CHAR_LENGTH(`districts1`.`district`) || CHAR_LENGTH(`districts1`.`station`) || CHAR_LENGTH(`province1`.`province`), CONCAT_WS('',   `districts1`.`district`, '     |     and     |     ', `districts1`.`station`, `province1`.`province`), '') as 'district', DATE_FORMAT(`log_sheet`.`month`, '%D %b %Y %l:%i%p') as 'month', IF(    CHAR_LENGTH(`driver1`.`drivers_name_and_surname`), CONCAT_WS('',   `driver1`.`drivers_name_and_surname`), '') as 'drivers_name_and_surname', IF(    CHAR_LENGTH(`driver1`.`drivers_persal_number`), CONCAT_WS('',   `driver1`.`drivers_persal_number`), '') as 'drivers_persal_number', `log_sheet`.`opening_km` as 'opening_km', `log_sheet`.`total_trip_distance` as 'total_trip_distance', `log_sheet`.`closing_km` as 'closing_km', IF(    CHAR_LENGTH(`fuel_type1`.`fuel_type`), CONCAT_WS('',   `fuel_type1`.`fuel_type`), '') as 'fuel_type', `log_sheet`.`fuel_tank_capacity` as 'fuel_tank_capacity', `log_sheet`.`vendor` as 'vendor', `log_sheet`.`fuel_cost_litre` as 'fuel_cost_litre', `log_sheet`.`refuel_quantity_1` as 'refuel_quantity_1', if(`log_sheet`.`refuel_first_time_date`,date_format(`log_sheet`.`refuel_first_time_date`,'%d/%m/%Y'),'') as 'refuel_first_time_date', `log_sheet`.`trip_distance_refuel_1` as 'trip_distance_refuel_1', `log_sheet`.`refuel_quantity_2` as 'refuel_quantity_2', if(`log_sheet`.`refuel_second_time_date`,date_format(`log_sheet`.`refuel_second_time_date`,'%d/%m/%Y'),'') as 'refuel_second_time_date', `log_sheet`.`trip_distance_refuel_2` as 'trip_distance_refuel_2', `log_sheet`.`refuel_quantity_3` as 'refuel_quantity_3', if(`log_sheet`.`refuel_third_time_date`,date_format(`log_sheet`.`refuel_third_time_date`,'%d/%m/%Y'),'') as 'refuel_third_time_date', `log_sheet`.`trip_distance_refuel_3` as 'trip_distance_refuel_3', `log_sheet`.`refuel_quantity_4` as 'refuel_quantity_4', if(`log_sheet`.`refuel_fourth_time_date`,date_format(`log_sheet`.`refuel_fourth_time_date`,'%d/%m/%Y'),'') as 'refuel_fourth_time_date', `log_sheet`.`trip_distance_refuel_4` as 'trip_distance_refuel_4', `log_sheet`.`refuel_quantity_5` as 'refuel_quantity_5', if(`log_sheet`.`refuel_fifth_time_date`,date_format(`log_sheet`.`refuel_fifth_time_date`,'%d/%m/%Y'),'') as 'refuel_fifth_time_date', `log_sheet`.`trip_distance_refuel_5` as 'trip_distance_refuel_5', `log_sheet`.`refuel_quantity_6` as 'refuel_quantity_6', `log_sheet`.`trip_distance_refuel_6` as 'trip_distance_refuel_6', if(`log_sheet`.`refuel_sixth_time_date`,date_format(`log_sheet`.`refuel_sixth_time_date`,'%d/%m/%Y'),'') as 'refuel_sixth_time_date', `log_sheet`.`times_refuel_current_month` as 'times_refuel_current_month', `log_sheet`.`total_fuel_quantity` as 'total_fuel_quantity', `log_sheet`.`fuel_consumption` as 'fuel_consumption', `log_sheet`.`fuel_total_cost` as 'fuel_total_cost', `log_sheet`.`payment_e_fuel_card` as 'payment_e_fuel_card', `log_sheet`.`captured_by` as 'captured_by', `log_sheet`.`comments` as 'comments', DATE_FORMAT(`log_sheet`.`date_captured`, '%e/%c/%Y %l:%i%p') as 'date_captured', `log_sheet`.`complete_fill_up` as 'complete_fill_up' FROM `log_sheet` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`log_sheet`.`vehicle_registration_number` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register2 ON `gmt_fleet_register2`.`fleet_asset_id`=`log_sheet`.`register_number` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register3 ON `gmt_fleet_register3`.`fleet_asset_id`=`log_sheet`.`model_of_vehicle` LEFT JOIN `vehicle_colour` as vehicle_colour1 ON `vehicle_colour1`.`vehicle_colour_id`=`log_sheet`.`colour_of_vehicle` LEFT JOIN `driver` as driver1 ON `driver1`.`driver_id`=`log_sheet`.`drivers_name_and_surname` LEFT JOIN `fuel_type` as fuel_type1 ON `fuel_type1`.`fuel_type_id`=`log_sheet`.`fuel_type` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`gmt_fleet_register1`.`make_of_vehicle` LEFT JOIN `year_model` as year_model1 ON `year_model1`.`year_model_id`=`gmt_fleet_register1`.`year_model_specification` LEFT JOIN `districts` as districts1 ON `districts1`.`district_id`=`gmt_fleet_register1`.`district` LEFT JOIN `province` as province1 ON `province1`.`province_id`=`gmt_fleet_register1`.`province` "
				],
			],
			'vehicle_history' => [
			],
			'year_model' => [
			],
			'month' => [
			],
			'body_type' => [
			],
			'vehicle_colour' => [
			],
			'province' => [
			],
			'departments' => [
			],
			'districts' => [
			],
			'application_status' => [
			],
			'vehicle_payments' => [
			],
			'insurance_payments' => [
			],
			'authorizations' => [
			],
			'service' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'service_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Service: <span class="hidden child-label-service child-field-caption">(Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/autorepair2.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Service ID:', 1 => 'Breakdown of Vehicle?:', 2 => 'Service Title:', 3 => 'Service Item Type:', 4 => 'Service Category:', 5 => 'Merchant Name:', 6 => 'Registration Number:', 7 => 'Engine Number:', 8 => 'Chassis Number:', 9 => 'Make of Vehicle/Dealer Name:', 10 => 'Make of Vehicle:', 11 => 'Model of Vehicle:', 12 => 'Year Model of Vehicle:', 13 => 'Type of Vehicle:', 14 => 'Odometer Reading (km):', 15 => 'Application Status:', 16 => 'Work Allocation Reference Number:', 17 => 'Barcode Number:', 18 => 'Department:', 19 => 'Service Item:', 20 => 'Date of Service:', 21 => 'Time:', 22 => 'Documents (Upload Quotation):', 23 => 'Date of Next Service:', 24 => 'Repeat Service Schedule Every (km):', 25 => 'Comments:', 26 => 'Documents (Upload Invoice):', 27 => 'Information Capture By Receptionist (Name & Surname):', 28 => 'Receptionist Contact e-Mail:', 29 => 'Workshop Name:', 30 => 'Workshop Address:', 31 => 'Technician:', 32 => 'Work Order Status:', 33 => 'Job Card Number:', 34 => 'Actual Completion Date:', 35 => 'Due Date:'],
					'display-field-names' => [0 => 'service_id', 1 => 'breakdown_of_vehicle', 2 => 'service_title', 3 => 'service_item_type', 4 => 'service_category', 5 => 'merchant_name', 6 => 'vehicle_registration_number', 7 => 'engine_number', 8 => 'chassis_number', 9 => 'dealer_name', 10 => 'make_of_vehicle', 11 => 'model_of_vehicle', 12 => 'year_model_of_vehicle', 13 => 'type_of_vehicle', 14 => 'closing_km', 15 => 'application_status', 16 => 'work_allocation_reference_number', 17 => 'barcode_number', 18 => 'department', 19 => 'service_item', 20 => 'date_of_service', 21 => 'time', 22 => 'upload_quotation', 23 => 'date_of_next_service', 24 => 'repeat_service_schedule_every_km', 25 => 'comments', 26 => 'upload_invoice', 27 => 'receptionist', 28 => 'receptionist_contact_email', 29 => 'workshop_name', 30 => 'workshop_address', 31 => 'technician', 32 => 'work_order_status', 33 => 'job_card_number', 34 => 'completion_date', 35 => 'due_date'],
					'sortable-fields' => [0 => '`service`.`service_id`', 1 => 2, 2 => 3, 3 => '`service_item_type1`.`service_item_type`', 4 => '`service_categories1`.`service_category`', 5 => 6, 6 => '`gmt_fleet_register1`.`vehicle_registration_number`', 7 => '`gmt_fleet_register1`.`engine_number`', 8 => 9, 9 => '`dealer1`.`dealer_name`', 10 => 11, 11 => '`gmt_fleet_register1`.`model_of_vehicle`', 12 => 13, 13 => 14, 14 => 15, 15 => 16, 16 => '`work_allocation1`.`work_allocation_reference_number`', 17 => '`gmt_fleet_register1`.`barcode_number`', 18 => 19, 19 => 20, 20 => 'date_format(`schedule1`.`date`,\'%d/%m/%Y\')', 21 => '`schedule1`.`time`', 22 => 23, 23 => '`service`.`date_of_next_service`', 24 => 25, 25 => 26, 26 => 27, 27 => 28, 28 => 29, 29 => 30, 30 => 31, 31 => 32, 32 => 33, 33 => 34, 34 => '`service`.`completion_date`', 35 => '`service`.`due_date`', 36 => '`service`.`filed`', 37 => '`service`.`last_modified`'],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-service',
					'template-printable' => 'children-service-printable',
					'query' => "SELECT `service`.`service_id` as 'service_id', `service`.`breakdown_of_vehicle` as 'breakdown_of_vehicle', `service`.`service_title` as 'service_title', IF(    CHAR_LENGTH(`service_item_type1`.`service_item_type`), CONCAT_WS('',   `service_item_type1`.`service_item_type`), '') as 'service_item_type', IF(    CHAR_LENGTH(`service_categories1`.`service_category`), CONCAT_WS('',   `service_categories1`.`service_category`), '') as 'service_category', IF(    CHAR_LENGTH(`merchant1`.`merchant_name`) || CHAR_LENGTH(`merchant_type1`.`merchant_type`), CONCAT_WS('',   `merchant1`.`merchant_name`, '    |   and   |    ', `merchant_type1`.`merchant_type`), '') as 'merchant_name', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`engine_number`), CONCAT_WS('',   `gmt_fleet_register1`.`engine_number`), '') as 'engine_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`chassis_number`) || CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`chassis_number`, ' |  and  |     ', `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'chassis_number', IF(    CHAR_LENGTH(`dealer1`.`dealer_name`), CONCAT_WS('',   `dealer1`.`dealer_name`), '') as 'dealer_name', IF(    CHAR_LENGTH(`dealer1`.`make_of_vehicle`), CONCAT_WS('',   `dealer1`.`make_of_vehicle`, '   '), '') as 'make_of_vehicle', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`), CONCAT_WS('',   `gmt_fleet_register1`.`model_of_vehicle`), '') as 'model_of_vehicle', IF(    CHAR_LENGTH(`year_model1`.`year_model_specification`), CONCAT_WS('',   `year_model1`.`year_model_specification`), '') as 'year_model_of_vehicle', IF(    CHAR_LENGTH(`body_type1`.`type_of_vehicle`), CONCAT_WS('',   `body_type1`.`type_of_vehicle`), '') as 'type_of_vehicle', IF(    CHAR_LENGTH(`log_sheet1`.`closing_km`), CONCAT_WS('',   `log_sheet1`.`closing_km`, ' '), '') as 'closing_km', IF(    CHAR_LENGTH(`application_status1`.`application_status`), CONCAT_WS('',   `application_status1`.`application_status`), '') as 'application_status', IF(    CHAR_LENGTH(`work_allocation1`.`work_allocation_reference_number`), CONCAT_WS('',   `work_allocation1`.`work_allocation_reference_number`), '') as 'work_allocation_reference_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`barcode_number`), CONCAT_WS('',   `gmt_fleet_register1`.`barcode_number`), '') as 'barcode_number', IF(    CHAR_LENGTH(`departments1`.`department_name`), CONCAT_WS('',   `departments1`.`department_name`), '') as 'department', `service`.`service_item` as 'service_item', IF(    CHAR_LENGTH(if(`schedule1`.`date`,date_format(`schedule1`.`date`,'%d/%m/%Y'),'')), CONCAT_WS('',   if(`schedule1`.`date`,date_format(`schedule1`.`date`,'%d/%m/%Y'),'')), '') as 'date_of_service', IF(    CHAR_LENGTH(`schedule1`.`time`), CONCAT_WS('',   `schedule1`.`time`), '') as 'time', `service`.`upload_quotation` as 'upload_quotation', DATE_FORMAT(`service`.`date_of_next_service`, '%D %b %Y %l:%i%p') as 'date_of_next_service', `service`.`repeat_service_schedule_every_km` as 'repeat_service_schedule_every_km', `service`.`comments` as 'comments', `service`.`upload_invoice` as 'upload_invoice', IF(    CHAR_LENGTH(`reception1`.`reception_name_and_surname`) || CHAR_LENGTH(`reception1`.`reception_persal_number`), CONCAT_WS('',   `reception1`.`reception_name_and_surname`, '     |    and     |     ', `reception1`.`reception_persal_number`), '') as 'receptionist', IF(    CHAR_LENGTH(`reception1`.`reception_email_address`) || CHAR_LENGTH(`reception1`.`reception_contact_details`), CONCAT_WS('',   `reception1`.`reception_email_address`, '     |     and      |    ', `reception1`.`reception_contact_details`), '') as 'receptionist_contact_email', IF(    CHAR_LENGTH(`districts1`.`district`), CONCAT_WS('',   `districts1`.`district`), '') as 'workshop_name', `service`.`workshop_address` as 'workshop_address', `service`.`technician` as 'technician', `service`.`work_order_status` as 'work_order_status', IF(    CHAR_LENGTH(`reception1`.`job_card_number`) || CHAR_LENGTH(`gmt_fleet_register10`.`vehicle_registration_number`), CONCAT_WS('',   `reception1`.`job_card_number`, `gmt_fleet_register10`.`vehicle_registration_number`), '') as 'job_card_number', if(`service`.`completion_date`,date_format(`service`.`completion_date`,'%d/%m/%Y'),'') as 'completion_date', if(`service`.`due_date`,date_format(`service`.`due_date`,'%d/%m/%Y'),'') as 'due_date', DATE_FORMAT(`service`.`filed`, '%c/%e/%Y %l:%i%p') as 'filed', DATE_FORMAT(`service`.`last_modified`, '%c/%e/%Y %l:%i%p') as 'last_modified' FROM `service` LEFT JOIN `service_item_type` as service_item_type1 ON `service_item_type1`.`service_item_type_id`=`service`.`service_item_type` LEFT JOIN `service_categories` as service_categories1 ON `service_categories1`.`service_categories_id`=`service`.`service_category` LEFT JOIN `merchant` as merchant1 ON `merchant1`.`merchant_id`=`service`.`merchant_name` LEFT JOIN `merchant_type` as merchant_type1 ON `merchant_type1`.`merchant_type_id`=`merchant1`.`merchant_type` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`service`.`vehicle_registration_number` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`service`.`dealer_name` LEFT JOIN `log_sheet` as log_sheet1 ON `log_sheet1`.`fuel_log_sheet_id`=`service`.`closing_km` LEFT JOIN `work_allocation` as work_allocation1 ON `work_allocation1`.`work_allocation_id`=`service`.`work_allocation_reference_number` LEFT JOIN `schedule` as schedule1 ON `schedule1`.`schedule_id`=`service`.`date_of_service` LEFT JOIN `reception` as reception1 ON `reception1`.`reception_user_id`=`service`.`receptionist` LEFT JOIN `year_model` as year_model1 ON `year_model1`.`year_model_id`=`gmt_fleet_register1`.`year_model_specification` LEFT JOIN `body_type` as body_type1 ON `body_type1`.`body_type_id`=`gmt_fleet_register1`.`type_of_vehicle` LEFT JOIN `application_status` as application_status1 ON `application_status1`.`application_id`=`gmt_fleet_register1`.`application_status` LEFT JOIN `departments` as departments1 ON `departments1`.`department_id`=`gmt_fleet_register1`.`department_name` LEFT JOIN `districts` as districts1 ON `districts1`.`district_id`=`reception1`.`district` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register10 ON `gmt_fleet_register10`.`fleet_asset_id`=`reception1`.`vehicle_registration_number` "
				],
			],
			'service_type' => [
			],
			'schedule' => [
			],
			'service_records' => [
			],
			'service_categories' => [
			],
			'service_item_type' => [
			],
			'service_item' => [
			],
			'purchase_orders' => [
			],
			'transmission' => [
			],
			'fuel_type' => [
			],
			'merchant' => [
			],
			'merchant_type' => [
			],
			'manufacturer' => [
			],
			'manufacturer_type' => [
			],
			'driver' => [
			],
			'accidents' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'accident_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Accident: <span class="hidden child-label-accidents child-field-caption">(Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/accident.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Accident ID:', 1 => 'Registration Number:', 2 => 'Closing KM:', 3 => 'Driver\'s Surname:', 4 => 'Driver\'s Contact Details:', 5 => 'Make of Vehicle/Dealer Name:', 6 => 'Model of Vehicle:', 7 => 'Date of Accident:', 8 => 'Z181 Accident Form:', 9 => 'Z181 Accident Form Uploaded:', 10 => 'Copy of Trip Authority:', 11 => 'District:', 12 => 'Station:', 13 => 'Road or Street Name:', 14 => 'Coordinates:', 15 => 'Deaths:', 16 => 'Fatal Amount:', 17 => 'Injured:', 18 => 'Injured Amount:', 19 => 'Description of Accident:', 20 => 'Insured ?:', 21 => 'Upload Photos of Damaged Vehicle:', 22 => 'Copy of Sketch Plan:', 23 => 'Driver Accident Report/Statement:', 24 => 'Supervisor Accident Report/Statement:', 25 => 'Claims Report by Accident Committee:', 26 => 'Insurance Claims Report:', 27 => 'Amount Paid:', 28 => 'Police Officer:', 29 => 'Contact Details:', 30 => 'Case Number:', 31 => 'Police Report:', 32 => 'Accident Report Number:'],
					'display-field-names' => [0 => 'accident_id', 1 => 'vehicle_registration_number', 2 => 'closing_km', 3 => 'drivers_surname', 4 => 'drivers_contact_details', 5 => 'dealer_name', 6 => 'model_of_vehicle', 7 => 'date_of_accident', 8 => 'z181_accident_form', 9 => 'z181_accident_form_uploaded', 10 => 'copy_of_trip_authority', 11 => 'district', 12 => 'location', 13 => 'road_or_street', 14 => 'coordinates', 15 => 'deaths', 16 => 'fatal_amount', 17 => 'injured', 18 => 'injured_amount', 19 => 'description_of_accident', 20 => 'insured', 21 => 'upload_photos_damaged_vehicle', 22 => 'copy_of_sketch_plan', 23 => 'accident_report_driver', 24 => 'accident_report_supervisior', 25 => 'claims_report_accident_committee', 26 => 'insurance_claims_report', 27 => 'amount_paid', 28 => 'police_officer', 29 => 'contact_details', 30 => 'case_number', 31 => 'police_report', 32 => 'accident_report_number'],
					'sortable-fields' => [0 => '`accidents`.`accident_id`', 1 => 2, 2 => '`log_sheet1`.`closing_km`', 3 => 4, 4 => 5, 5 => 6, 6 => '`gmt_fleet_register1`.`model_of_vehicle`', 7 => '`accidents`.`date_of_accident`', 8 => 9, 9 => 10, 10 => 11, 11 => '`districts1`.`district`', 12 => 13, 13 => 14, 14 => 15, 15 => 16, 16 => 17, 17 => 18, 18 => 19, 19 => 20, 20 => 21, 21 => 22, 22 => 23, 23 => 24, 24 => 25, 25 => 26, 26 => 27, 27 => 28, 28 => 29, 29 => 30, 30 => 31, 31 => 32, 32 => 33],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-accidents',
					'template-printable' => 'children-accidents-printable',
					'query' => "SELECT `accidents`.`accident_id` as 'accident_id', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`, '   '), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`log_sheet1`.`closing_km`), CONCAT_WS('',   `log_sheet1`.`closing_km`), '') as 'closing_km', IF(    CHAR_LENGTH(`driver1`.`drivers_name_and_surname`) || CHAR_LENGTH(`driver1`.`drivers_persal_number`), CONCAT_WS('',   `driver1`.`drivers_name_and_surname`, '    |    and    |   ', `driver1`.`drivers_persal_number`), '') as 'drivers_surname', IF(    CHAR_LENGTH(`driver1`.`drivers_name_and_surname`) || CHAR_LENGTH(`driver1`.`drivers_email_address`), CONCAT_WS('',   `driver1`.`drivers_name_and_surname`, '     |   and    |   ', `driver1`.`drivers_email_address`), '') as 'drivers_contact_details', IF(    CHAR_LENGTH(`dealer1`.`make_of_vehicle`), CONCAT_WS('',   `dealer1`.`make_of_vehicle`, '   '), '') as 'dealer_name', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`), CONCAT_WS('',   `gmt_fleet_register1`.`model_of_vehicle`), '') as 'model_of_vehicle', DATE_FORMAT(`accidents`.`date_of_accident`, '%D %b %Y %l:%i%p') as 'date_of_accident', `accidents`.`z181_accident_form` as 'z181_accident_form', `accidents`.`z181_accident_form_uploaded` as 'z181_accident_form_uploaded', `accidents`.`copy_of_trip_authority` as 'copy_of_trip_authority', IF(    CHAR_LENGTH(`districts1`.`district`), CONCAT_WS('',   `districts1`.`district`), '') as 'district', IF(    CHAR_LENGTH(`districts1`.`station`), CONCAT_WS('',   `districts1`.`station`, '   |  and   |   '), '') as 'location', `accidents`.`road_or_street` as 'road_or_street', `accidents`.`coordinates` as 'coordinates', `accidents`.`deaths` as 'deaths', `accidents`.`fatal_amount` as 'fatal_amount', `accidents`.`injured` as 'injured', `accidents`.`injured_amount` as 'injured_amount', `accidents`.`description_of_accident` as 'description_of_accident', `accidents`.`insured` as 'insured', `accidents`.`upload_photos_damaged_vehicle` as 'upload_photos_damaged_vehicle', `accidents`.`copy_of_sketch_plan` as 'copy_of_sketch_plan', `accidents`.`accident_report_driver` as 'accident_report_driver', `accidents`.`accident_report_supervisior` as 'accident_report_supervisior', `accidents`.`claims_report_accident_committee` as 'claims_report_accident_committee', `accidents`.`insurance_claims_report` as 'insurance_claims_report', `accidents`.`amount_paid` as 'amount_paid', `accidents`.`police_officer` as 'police_officer', `accidents`.`contact_details` as 'contact_details', `accidents`.`case_number` as 'case_number', `accidents`.`police_report` as 'police_report', `accidents`.`accident_report_number` as 'accident_report_number' FROM `accidents` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`accidents`.`vehicle_registration_number` LEFT JOIN `log_sheet` as log_sheet1 ON `log_sheet1`.`fuel_log_sheet_id`=`accidents`.`closing_km` LEFT JOIN `driver` as driver1 ON `driver1`.`driver_id`=`accidents`.`drivers_surname` LEFT JOIN `districts` as districts1 ON `districts1`.`district_id`=`accidents`.`district` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`gmt_fleet_register1`.`make_of_vehicle` "
				],
			],
			'accident_type' => [
			],
			'claim' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'claim_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Claims: <span class="hidden child-label-claim child-field-caption">(Vehicle Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/BiologicalHazard_Symbol_Triangle.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Claim ID:', 1 => 'Claims Code:', 2 => 'Claim Status:', 3 => 'Claim Category:', 4 => 'Cost Centre', 5 => 'Client Identification:', 6 => 'Department Name:', 7 => 'District:', 8 => 'Province Name:', 9 => 'Merchant Name:', 10 => 'Vehicle Registration Number:', 11 => 'Model:', 12 => 'Closing km:', 13 => 'Pre Authorization Date:', 14 => 'Instruction Note:', 15 => 'Invoice Date:', 16 => 'Documents (Upload Invoice):', 17 => 'Payment Date:', 18 => 'Authorization Number:', 19 => 'Clearance Number:', 20 => 'Vehicle Collected Date:', 21 => 'Total Claimed (R):', 22 => 'Total Authorized (R):'],
					'display-field-names' => [0 => 'claim_id', 1 => 'claim_code', 2 => 'claim_status', 3 => 'claim_category', 4 => 'cost_centre', 5 => 'client_identification', 6 => 'department_name', 7 => 'district', 8 => 'province', 9 => 'merchant_name', 10 => 'vehicle_registration_number', 11 => 'model', 12 => 'closing_km', 13 => 'pre_authorization_date', 14 => 'instruction_note', 15 => 'invoice_date', 16 => 'upload_invoice', 17 => 'payment_date', 18 => 'authorization_number', 19 => 'clearance_number', 20 => 'vehicle_collected_date', 21 => 'total_claimed', 22 => 'total_authorized'],
					'sortable-fields' => [0 => '`claim`.`claim_id`', 1 => 2, 2 => '`claim_status1`.`claim_status`', 3 => '`claim_category1`.`claim_category`', 4 => '`cost_centre1`.`cost_centre`', 5 => 6, 6 => '`departments1`.`department_name`', 7 => '`districts1`.`district`', 8 => '`province1`.`province`', 9 => 10, 10 => 11, 11 => 12, 12 => '`log_sheet1`.`closing_km`', 13 => '`claim`.`pre_authorization_date`', 14 => 15, 15 => '`claim`.`invoice_date`', 16 => 17, 17 => '`claim`.`payment_date`', 18 => 19, 19 => 20, 20 => '`claim`.`vehicle_collected_date`', 21 => '`claim`.`total_claimed`', 22 => '`claim`.`total_authorized`'],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-claim',
					'template-printable' => 'children-claim-printable',
					'query' => "SELECT `claim`.`claim_id` as 'claim_id', `claim`.`claim_code` as 'claim_code', IF(    CHAR_LENGTH(`claim_status1`.`claim_status`), CONCAT_WS('',   `claim_status1`.`claim_status`), '') as 'claim_status', IF(    CHAR_LENGTH(`claim_category1`.`claim_category`), CONCAT_WS('',   `claim_category1`.`claim_category`), '') as 'claim_category', IF(    CHAR_LENGTH(`cost_centre1`.`cost_centre`), CONCAT_WS('',   `cost_centre1`.`cost_centre`), '') as 'cost_centre', `claim`.`client_identification` as 'client_identification', IF(    CHAR_LENGTH(`departments1`.`department_name`), CONCAT_WS('',   `departments1`.`department_name`), '') as 'department_name', IF(    CHAR_LENGTH(`districts1`.`district`), CONCAT_WS('',   `districts1`.`district`), '') as 'district', IF(    CHAR_LENGTH(`province1`.`province`), CONCAT_WS('',   `province1`.`province`), '') as 'province', IF(    CHAR_LENGTH(`merchant1`.`merchant_name`) || CHAR_LENGTH(`merchant1`.`merchant_code`), CONCAT_WS('',   `merchant1`.`merchant_name`, '     |   and    |   ', `merchant1`.`merchant_code`), '') as 'merchant_name', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`) || CHAR_LENGTH(`gmt_fleet_register1`.`chassis_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`, '    |   and    |  ', `gmt_fleet_register1`.`chassis_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`) || CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`model_of_vehicle`, ' |   and    |    ', `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'model', IF(    CHAR_LENGTH(`log_sheet1`.`closing_km`), CONCAT_WS('',   `log_sheet1`.`closing_km`), '') as 'closing_km', DATE_FORMAT(`claim`.`pre_authorization_date`, '%D %b %Y %l:%i%p') as 'pre_authorization_date', `claim`.`instruction_note` as 'instruction_note', DATE_FORMAT(`claim`.`invoice_date`, '%D %b %Y %l:%i%p') as 'invoice_date', `claim`.`upload_invoice` as 'upload_invoice', DATE_FORMAT(`claim`.`payment_date`, '%D %b %Y %l:%i%p') as 'payment_date', `claim`.`authorization_number` as 'authorization_number', `claim`.`clearance_number` as 'clearance_number', DATE_FORMAT(`claim`.`vehicle_collected_date`, '%D %b %Y %l:%i%p') as 'vehicle_collected_date', `claim`.`total_claimed` as 'total_claimed', `claim`.`total_authorized` as 'total_authorized' FROM `claim` LEFT JOIN `claim_status` as claim_status1 ON `claim_status1`.`claim_status_id`=`claim`.`claim_status` LEFT JOIN `claim_category` as claim_category1 ON `claim_category1`.`claim_category_id`=`claim`.`claim_category` LEFT JOIN `cost_centre` as cost_centre1 ON `cost_centre1`.`cost_centre_id`=`claim`.`cost_centre` LEFT JOIN `departments` as departments1 ON `departments1`.`department_id`=`claim`.`department_name` LEFT JOIN `districts` as districts1 ON `districts1`.`district_id`=`claim`.`district` LEFT JOIN `province` as province1 ON `province1`.`province_id`=`claim`.`province` LEFT JOIN `merchant` as merchant1 ON `merchant1`.`merchant_id`=`claim`.`merchant_name` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`claim`.`vehicle_registration_number` LEFT JOIN `log_sheet` as log_sheet1 ON `log_sheet1`.`fuel_log_sheet_id`=`claim`.`closing_km` "
				],
			],
			'claim_status' => [
			],
			'claim_category' => [
			],
			'cost_centre' => [
			],
			'dealer' => [
			],
			'dealer_type' => [
			],
			'tyre_log_sheet' => [
			],
			'vehicle_daily_check_list' => [
			],
			'auditor' => [
			],
			'parts' => [
			],
			'parts_type' => [
			],
			'breakdown_services' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'breakdown_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Breakdown Services: <span class="hidden child-label-breakdown_services child-field-caption">(Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/breakdowns.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Breakdown ID:', 1 => 'Breakdown of Vehicle?:', 2 => 'Breakdown During Office Hours:', 3 => 'Breakdown Within or Outside The Province:', 4 => 'Description of Vehicle Breakdown (Notes):', 5 => 'Description of vehicle breakdown', 6 => 'Date of Vehicle Breakdown:', 7 => 'Work Allocation Reference Number:', 8 => 'Job Card Number:', 9 => 'Registration Number:', 10 => 'Engine Number:', 11 => 'Closing KM:', 12 => 'Date of Vehicle Re-activation:', 13 => 'Type of Expenditure:', 14 => 'Labour Category (1) :', 15 => 'Part Number (1):', 16 => 'Part Name (1):', 17 => 'Part Manufacturer Name (1):', 18 => 'Quantity (1):', 19 => 'Expense Of Item 1 (R):', 20 => 'Labour Category (2):', 21 => 'Part Number (2):', 22 => 'Part Name (2):', 23 => 'Part Manufacturer Name (2):', 24 => 'Quantity (2):', 25 => 'Expense Of Item 2 (R):', 26 => 'Material Cost (R):', 27 => 'Average Worktime Hrs:', 28 => 'Standard Labour Cost per Hour:', 29 => 'Labour Charges (R):', 30 => 'Vat 15 % (R):', 31 => 'Total Amount (R):', 32 => 'Workshop Name:', 33 => 'Work Order Status:', 34 => 'Comments:', 35 => 'Documents (Upload Invoice):', 36 => 'Receptionist Name & Surname:', 37 => 'Receptionist Contact e-Mail:', 38 => 'Date Captured:'],
					'display-field-names' => [0 => 'breakdown_id', 1 => 'breakdown_of_vehicle', 2 => 'breakdown_during_office_hours', 3 => 'breakdown_within_or_outside_the_province', 4 => 'description_of_vehicle_breakdown_notes', 5 => 'description_of_vehicle_breakdown', 6 => 'date_of_vehicle_breakdown', 7 => 'work_allocation_reference_number', 8 => 'job_card_number', 9 => 'vehicle_registration_number', 10 => 'engine_number', 11 => 'closing_km', 12 => 'date_of_vehicle_reactivation', 13 => 'type_of_expenditure', 14 => 'labour_category', 15 => 'part_number', 16 => 'part_name', 17 => 'part_manufacturer_name', 18 => 'quantity', 19 => 'expense_of_item', 20 => 'labour_category_1', 21 => 'part_number_1', 22 => 'part_name_1', 23 => 'part_manufacturer_name_1', 24 => 'quantity_1', 25 => 'expense_of_item_1', 26 => 'material_cost', 27 => 'average_worktime_hrs', 28 => 'standard_labour_cost_per_hour', 29 => 'labour_charges', 30 => 'vat', 31 => 'total_amount', 32 => 'workshop_name', 33 => 'work_order_status', 34 => 'comments', 35 => 'upload_invoice', 36 => 'receptionist', 37 => 'receptionist_contact_email', 38 => 'date_captured'],
					'sortable-fields' => [0 => '`breakdown_services`.`breakdown_id`', 1 => 2, 2 => 3, 3 => 4, 4 => '`reception1`.`description_of_vehicle_breakdown_notes`', 5 => 6, 6 => '`breakdown_services`.`date_of_vehicle_breakdown`', 7 => '`work_allocation1`.`work_allocation_reference_number`', 8 => '`reception2`.`job_card_number`', 9 => 10, 10 => 11, 11 => '`log_sheet1`.`closing_km`', 12 => '`breakdown_services`.`date_of_vehicle_reactivation`', 13 => 14, 14 => 15, 15 => '`parts1`.`part_number`', 16 => '`parts2`.`part_name`', 17 => '`manufacturer1`.`manufacturer_name`', 18 => 19, 19 => '`breakdown_services`.`expense_of_item`', 20 => 21, 21 => '`parts3`.`part_number`', 22 => '`parts4`.`part_name`', 23 => '`manufacturer2`.`manufacturer_name`', 24 => 25, 25 => '`breakdown_services`.`expense_of_item_1`', 26 => '`breakdown_services`.`material_cost`', 27 => 28, 28 => '`breakdown_services`.`standard_labour_cost_per_hour`', 29 => '`breakdown_services`.`labour_charges`', 30 => '`breakdown_services`.`vat`', 31 => '`breakdown_services`.`total_amount`', 32 => 33, 33 => 34, 34 => 35, 35 => 36, 36 => '`reception1`.`reception_name_and_surname`', 37 => '`reception1`.`reception_email_address`', 38 => '`breakdown_services`.`date_captured`'],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-breakdown_services',
					'template-printable' => 'children-breakdown_services-printable',
					'query' => "SELECT `breakdown_services`.`breakdown_id` as 'breakdown_id', `breakdown_services`.`breakdown_of_vehicle` as 'breakdown_of_vehicle', `breakdown_services`.`breakdown_during_office_hours` as 'breakdown_during_office_hours', `breakdown_services`.`breakdown_within_or_outside_the_province` as 'breakdown_within_or_outside_the_province', IF(    CHAR_LENGTH(`reception1`.`description_of_vehicle_breakdown_notes`), CONCAT_WS('',   `reception1`.`description_of_vehicle_breakdown_notes`), '') as 'description_of_vehicle_breakdown_notes', `breakdown_services`.`description_of_vehicle_breakdown` as 'description_of_vehicle_breakdown', DATE_FORMAT(`breakdown_services`.`date_of_vehicle_breakdown`, '%D %b %Y %l:%i%p') as 'date_of_vehicle_breakdown', IF(    CHAR_LENGTH(`work_allocation1`.`work_allocation_reference_number`), CONCAT_WS('',   `work_allocation1`.`work_allocation_reference_number`), '') as 'work_allocation_reference_number', IF(    CHAR_LENGTH(`reception2`.`job_card_number`), CONCAT_WS('',   `reception2`.`job_card_number`), '') as 'job_card_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`) || CHAR_LENGTH(`gmt_fleet_register1`.`engine_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`, '  |   and   |     ', `gmt_fleet_register1`.`engine_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`engine_number`) || CHAR_LENGTH(`gmt_fleet_register1`.`chassis_number`), CONCAT_WS('',   `gmt_fleet_register1`.`engine_number`, '   |  and  |   ', `gmt_fleet_register1`.`chassis_number`), '') as 'engine_number', IF(    CHAR_LENGTH(`log_sheet1`.`closing_km`), CONCAT_WS('',   `log_sheet1`.`closing_km`), '') as 'closing_km', if(`breakdown_services`.`date_of_vehicle_reactivation`,date_format(`breakdown_services`.`date_of_vehicle_reactivation`,'%d/%m/%Y'),'') as 'date_of_vehicle_reactivation', `breakdown_services`.`type_of_expenditure` as 'type_of_expenditure', `breakdown_services`.`labour_category` as 'labour_category', IF(    CHAR_LENGTH(`parts1`.`part_number`), CONCAT_WS('',   `parts1`.`part_number`), '') as 'part_number', IF(    CHAR_LENGTH(`parts2`.`part_name`), CONCAT_WS('',   `parts2`.`part_name`), '') as 'part_name', IF(    CHAR_LENGTH(`manufacturer1`.`manufacturer_name`), CONCAT_WS('',   `manufacturer1`.`manufacturer_name`), '') as 'part_manufacturer_name', `breakdown_services`.`quantity` as 'quantity', `breakdown_services`.`expense_of_item` as 'expense_of_item', `breakdown_services`.`labour_category_1` as 'labour_category_1', IF(    CHAR_LENGTH(`parts3`.`part_number`), CONCAT_WS('',   `parts3`.`part_number`), '') as 'part_number_1', IF(    CHAR_LENGTH(`parts4`.`part_name`), CONCAT_WS('',   `parts4`.`part_name`), '') as 'part_name_1', IF(    CHAR_LENGTH(`manufacturer2`.`manufacturer_name`), CONCAT_WS('',   `manufacturer2`.`manufacturer_name`), '') as 'part_manufacturer_name_1', `breakdown_services`.`quantity_1` as 'quantity_1', `breakdown_services`.`expense_of_item_1` as 'expense_of_item_1', `breakdown_services`.`material_cost` as 'material_cost', `breakdown_services`.`average_worktime_hrs` as 'average_worktime_hrs', `breakdown_services`.`standard_labour_cost_per_hour` as 'standard_labour_cost_per_hour', `breakdown_services`.`labour_charges` as 'labour_charges', `breakdown_services`.`vat` as 'vat', `breakdown_services`.`total_amount` as 'total_amount', IF(    CHAR_LENGTH(`service1`.`workshop_name`), CONCAT_WS('',   `service1`.`workshop_name`), '') as 'workshop_name', `breakdown_services`.`work_order_status` as 'work_order_status', `breakdown_services`.`comments` as 'comments', `breakdown_services`.`upload_invoice` as 'upload_invoice', IF(    CHAR_LENGTH(`reception1`.`reception_name_and_surname`), CONCAT_WS('',   `reception1`.`reception_name_and_surname`), '') as 'receptionist', IF(    CHAR_LENGTH(`reception1`.`reception_email_address`), CONCAT_WS('',   `reception1`.`reception_email_address`), '') as 'receptionist_contact_email', DATE_FORMAT(`breakdown_services`.`date_captured`, '%e/%c/%Y %l:%i%p') as 'date_captured' FROM `breakdown_services` LEFT JOIN `reception` as reception1 ON `reception1`.`reception_user_id`=`breakdown_services`.`description_of_vehicle_breakdown_notes` LEFT JOIN `work_allocation` as work_allocation1 ON `work_allocation1`.`work_allocation_id`=`breakdown_services`.`work_allocation_reference_number` LEFT JOIN `reception` as reception2 ON `reception2`.`reception_user_id`=`breakdown_services`.`job_card_number` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`breakdown_services`.`vehicle_registration_number` LEFT JOIN `log_sheet` as log_sheet1 ON `log_sheet1`.`fuel_log_sheet_id`=`breakdown_services`.`closing_km` LEFT JOIN `parts` as parts1 ON `parts1`.`parts_id`=`breakdown_services`.`part_number` LEFT JOIN `parts` as parts2 ON `parts2`.`parts_id`=`breakdown_services`.`part_name` LEFT JOIN `manufacturer` as manufacturer1 ON `manufacturer1`.`manufacturer_id`=`breakdown_services`.`part_manufacturer_name` LEFT JOIN `parts` as parts3 ON `parts3`.`parts_id`=`breakdown_services`.`part_number_1` LEFT JOIN `parts` as parts4 ON `parts4`.`parts_id`=`breakdown_services`.`part_name_1` LEFT JOIN `manufacturer` as manufacturer2 ON `manufacturer2`.`manufacturer_id`=`breakdown_services`.`part_manufacturer_name_1` LEFT JOIN `service` as service1 ON `service1`.`service_id`=`breakdown_services`.`workshop_name` "
				],
			],
			'modification_to_vehicle' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'modification_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Modification to Vehicle: <span class="hidden child-label-modification_to_vehicle child-field-caption">(Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/dimensions.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Modification ID:', 1 => 'Type of Vehicle:', 2 => 'Directorate:', 3 => 'Head Office:', 4 => 'District:', 5 => 'Station:', 6 => 'Driver\'s Name & Surname:', 7 => 'Driver\'s Persal Number:', 8 => 'Driver\'s Contact Details:', 9 => 'Driver Rank/Designation:', 10 => 'Driver Signature:', 11 => 'Registration Number:', 12 => 'Make of Vehicle:', 13 => 'Model of Vehicle:', 14 => 'Closing KM:', 15 => 'Job Card Number:', 16 => 'Objective:', 17 => 'Fuel Gauge Amount:', 18 => 'Keys/Ignition:', 19 => 'Petrol Cap with Keys:', 20 => 'Padlock with Keys:', 21 => 'Tyre R/F (Available):', 22 => 'Tyre R/F (Thread Condition):', 23 => 'Tyre R/R (Available):', 24 => 'Tyre R/R (Thread Condition):', 25 => 'Tyre L/F (Available):', 26 => 'Tyre L/F (Thread Condition):', 27 => 'Tyre L/R (Available):', 28 => 'Tyre L/R (Thread Condition):', 29 => 'Tyre Spare (Available):', 30 => 'Tyre Spare (Thread Condition):', 31 => 'Wheel Hub Cups (Available):', 32 => 'Other (specify):', 33 => 'Battery (Make):', 34 => 'Battery (Voltage):', 35 => 'Wheel Spanner:', 36 => 'Jack with Handle:', 37 => 'Radio/DVD Combination:', 38 => 'Petrol Card:', 39 => 'Valid License Disc:', 40 => 'Valid License Disc (Expire date):', 41 => 'Fire Extinguisher:', 42 => 'Warning Signs & Traingle:', 43 => 'Declaration Date & Time:', 44 => 'Testing Officer/Tradesman Aid Details:', 45 => 'Testing Officer/Tradesman Aid Persal Number:', 46 => 'Testing Officer/Tradesman Aid Rank/Designation:', 47 => 'Testing Officer/Tradesman Aid Signature:', 48 => 'Declaration Date & Time (Vehicle Received):', 49 => 'Supervisor for Allocation Details:', 50 => 'Supervisor for Allocation Persal Number:', 51 => 'Supervisor for Allocation Rank/Designation:', 52 => 'Supervisor for Allocation Signature:'],
					'display-field-names' => [0 => 'modification_id', 1 => 'type_of_vehicle', 2 => 'directorate', 3 => 'head_office', 4 => 'district', 5 => 'location', 6 => 'drivers_name_and_surname', 7 => 'drivers_persal_number', 8 => 'drivers_contact_details', 9 => 'driver_rank', 10 => 'driver_signature', 11 => 'vehicle_registration_number', 12 => 'make_of_vehicle', 13 => 'model_of_vehicle', 14 => 'closing_km', 15 => 'job_card_number', 16 => 'objective', 17 => 'fuel_gauge_amount', 18 => 'keys_ignition', 19 => 'petrol_cap_with_keys', 20 => 'padlock_with_keys', 21 => 'tyre_r_f', 22 => 'tyre_r_f_1', 23 => 'tyre_r_r', 24 => 'tyre_r_r_1', 25 => 'tyre_l_f', 26 => 'tyre_l_f_1', 27 => 'tyer_l_r', 28 => 'tyer_l_r_1', 29 => 'tyre_spare', 30 => 'tyre_spare_1', 31 => 'wheel_cups', 32 => 'other', 33 => 'battery', 34 => 'battery_voltage', 35 => 'wheel_spanner', 36 => 'jack_with_handle', 37 => 'radio_dvd_combination', 38 => 'petrol_card', 39 => 'valid_license_disc', 40 => 'valid_license_disc_date', 41 => 'fire_extinguisher', 42 => 'warning_signs_traingle', 43 => 'date_checked_in', 44 => 'testing_officer_name_and_surname', 45 => 'testing_officer_persal_number', 46 => 'testing_officer_rank', 47 => 'testing_officer_signature', 48 => 'date_received', 49 => 'supervisor_for_allocation_name_and_surname', 50 => 'supervisor_for_allocation_persal_number', 51 => 'supervisor_for_allocation_rank', 52 => 'supervisor_for_allocation_signature'],
					'sortable-fields' => [0 => '`modification_to_vehicle`.`modification_id`', 1 => '`body_type1`.`type_of_vehicle`', 2 => 3, 3 => 4, 4 => '`districts1`.`district`', 5 => 6, 6 => 7, 7 => '`driver1`.`drivers_persal_number`', 8 => 9, 9 => 10, 10 => 11, 11 => 12, 12 => 13, 13 => 14, 14 => '`log_sheet1`.`closing_km`', 15 => 16, 16 => 17, 17 => 18, 18 => 19, 19 => 20, 20 => 21, 21 => 22, 22 => 23, 23 => 24, 24 => 25, 25 => 26, 26 => 27, 27 => 28, 28 => 29, 29 => 30, 30 => 31, 31 => 32, 32 => 33, 33 => 34, 34 => 35, 35 => 36, 36 => 37, 37 => 38, 38 => 39, 39 => 40, 40 => '`modification_to_vehicle`.`valid_license_disc_date`', 41 => 42, 42 => 43, 43 => '`modification_to_vehicle`.`date_checked_in`', 44 => 45, 45 => 46, 46 => 47, 47 => 48, 48 => '`modification_to_vehicle`.`date_received`', 49 => 50, 50 => 51, 51 => 52, 52 => 53],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-modification_to_vehicle',
					'template-printable' => 'children-modification_to_vehicle-printable',
					'query' => "SELECT `modification_to_vehicle`.`modification_id` as 'modification_id', IF(    CHAR_LENGTH(`body_type1`.`type_of_vehicle`), CONCAT_WS('',   `body_type1`.`type_of_vehicle`), '') as 'type_of_vehicle', `modification_to_vehicle`.`directorate` as 'directorate', `modification_to_vehicle`.`head_office` as 'head_office', IF(    CHAR_LENGTH(`districts1`.`district`), CONCAT_WS('',   `districts1`.`district`), '') as 'district', IF(    CHAR_LENGTH(`districts1`.`station`), CONCAT_WS('',   `districts1`.`station`, '   |  and   |   '), '') as 'location', IF(    CHAR_LENGTH(`driver1`.`drivers_name_and_surname`) || CHAR_LENGTH(`driver1`.`drivers_email_address`), CONCAT_WS('',   `driver1`.`drivers_name_and_surname`, '   |  and   |  ', `driver1`.`drivers_email_address`), '') as 'drivers_name_and_surname', IF(    CHAR_LENGTH(`driver1`.`drivers_persal_number`), CONCAT_WS('',   `driver1`.`drivers_persal_number`), '') as 'drivers_persal_number', IF(    CHAR_LENGTH(`driver1`.`drivers_contact_details`) || CHAR_LENGTH(`driver1`.`drivers_email_address`), CONCAT_WS('',   `driver1`.`drivers_contact_details`, '    |   and    | ', `driver1`.`drivers_email_address`), '') as 'drivers_contact_details', `modification_to_vehicle`.`driver_rank` as 'driver_rank', `modification_to_vehicle`.`driver_signature` as 'driver_signature', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`) || CHAR_LENGTH(`gmt_fleet_register1`.`chassis_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`, '   |  and  |   ', `gmt_fleet_register1`.`chassis_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`dealer1`.`make_of_vehicle`) || CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`), CONCAT_WS('',   `dealer1`.`make_of_vehicle`, '   ', '   |  and  |   ', `gmt_fleet_register1`.`model_of_vehicle`), '') as 'make_of_vehicle', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`) || CHAR_LENGTH(`gmt_fleet_register1`.`chassis_number`), CONCAT_WS('',   `gmt_fleet_register1`.`model_of_vehicle`, '   |  and  |   ', `gmt_fleet_register1`.`chassis_number`), '') as 'model_of_vehicle', IF(    CHAR_LENGTH(`log_sheet1`.`closing_km`), CONCAT_WS('',   `log_sheet1`.`closing_km`), '') as 'closing_km', IF(    CHAR_LENGTH(`service1`.`job_card_number`), CONCAT_WS('',   `service1`.`job_card_number`), '') as 'job_card_number', `modification_to_vehicle`.`objective` as 'objective', `modification_to_vehicle`.`fuel_gauge_amount` as 'fuel_gauge_amount', `modification_to_vehicle`.`keys_ignition` as 'keys_ignition', `modification_to_vehicle`.`petrol_cap_with_keys` as 'petrol_cap_with_keys', `modification_to_vehicle`.`padlock_with_keys` as 'padlock_with_keys', `modification_to_vehicle`.`tyre_r_f` as 'tyre_r_f', `modification_to_vehicle`.`tyre_r_f_1` as 'tyre_r_f_1', `modification_to_vehicle`.`tyre_r_r` as 'tyre_r_r', `modification_to_vehicle`.`tyre_r_r_1` as 'tyre_r_r_1', `modification_to_vehicle`.`tyre_l_f` as 'tyre_l_f', `modification_to_vehicle`.`tyre_l_f_1` as 'tyre_l_f_1', `modification_to_vehicle`.`tyer_l_r` as 'tyer_l_r', `modification_to_vehicle`.`tyer_l_r_1` as 'tyer_l_r_1', `modification_to_vehicle`.`tyre_spare` as 'tyre_spare', `modification_to_vehicle`.`tyre_spare_1` as 'tyre_spare_1', `modification_to_vehicle`.`wheel_cups` as 'wheel_cups', `modification_to_vehicle`.`other` as 'other', `modification_to_vehicle`.`battery` as 'battery', `modification_to_vehicle`.`battery_voltage` as 'battery_voltage', `modification_to_vehicle`.`wheel_spanner` as 'wheel_spanner', `modification_to_vehicle`.`jack_with_handle` as 'jack_with_handle', `modification_to_vehicle`.`radio_dvd_combination` as 'radio_dvd_combination', `modification_to_vehicle`.`petrol_card` as 'petrol_card', `modification_to_vehicle`.`valid_license_disc` as 'valid_license_disc', if(`modification_to_vehicle`.`valid_license_disc_date`,date_format(`modification_to_vehicle`.`valid_license_disc_date`,'%d/%m/%Y'),'') as 'valid_license_disc_date', `modification_to_vehicle`.`fire_extinguisher` as 'fire_extinguisher', `modification_to_vehicle`.`warning_signs_traingle` as 'warning_signs_traingle', if(`modification_to_vehicle`.`date_checked_in`,date_format(`modification_to_vehicle`.`date_checked_in`,'%d/%m/%Y %H:%i'),'') as 'date_checked_in', `modification_to_vehicle`.`testing_officer_name_and_surname` as 'testing_officer_name_and_surname', `modification_to_vehicle`.`testing_officer_persal_number` as 'testing_officer_persal_number', `modification_to_vehicle`.`testing_officer_rank` as 'testing_officer_rank', `modification_to_vehicle`.`testing_officer_signature` as 'testing_officer_signature', if(`modification_to_vehicle`.`date_received`,date_format(`modification_to_vehicle`.`date_received`,'%d/%m/%Y %H:%i'),'') as 'date_received', `modification_to_vehicle`.`supervisor_for_allocation_name_and_surname` as 'supervisor_for_allocation_name_and_surname', `modification_to_vehicle`.`supervisor_for_allocation_persal_number` as 'supervisor_for_allocation_persal_number', `modification_to_vehicle`.`supervisor_for_allocation_rank` as 'supervisor_for_allocation_rank', `modification_to_vehicle`.`supervisor_for_allocation_signature` as 'supervisor_for_allocation_signature' FROM `modification_to_vehicle` LEFT JOIN `body_type` as body_type1 ON `body_type1`.`body_type_id`=`modification_to_vehicle`.`type_of_vehicle` LEFT JOIN `districts` as districts1 ON `districts1`.`district_id`=`modification_to_vehicle`.`district` LEFT JOIN `driver` as driver1 ON `driver1`.`driver_id`=`modification_to_vehicle`.`drivers_name_and_surname` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`modification_to_vehicle`.`vehicle_registration_number` LEFT JOIN `log_sheet` as log_sheet1 ON `log_sheet1`.`fuel_log_sheet_id`=`modification_to_vehicle`.`closing_km` LEFT JOIN `service` as service1 ON `service1`.`service_id`=`modification_to_vehicle`.`job_card_number` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`gmt_fleet_register1`.`make_of_vehicle` "
				],
			],
			'vehicle_handing_over_checklist' => [
			],
			'vehicle_return_check_list' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'vehicle_return_check_list_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Return Check List: <span class="hidden child-label-vehicle_return_check_list child-field-caption">(Vehicle Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/keys.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Vehicle Return  Check List ID:', 1 => 'Vehicle Return Date:', 2 => 'Job Card Number:', 3 => 'Vehicle Registration Number:', 4 => 'Make of Vehicle:', 5 => 'Model of Vehicle:', 6 => 'Odometer Reading/Closing KM:', 7 => 'Radio/DVD Combination:', 8 => 'Number of Keys Handling Over:', 9 => 'Jack with Handle:', 10 => 'Tyre Spare (Available):', 11 => 'Tyre Spare (Thread Condition):', 12 => 'Wheel Spanner:', 13 => 'Wheel Hub Cups (Available):', 14 => 'Tri Angles Available:', 15 => 'Other (specify):', 16 => 'Number of Keys Handed Over:', 17 => 'Vehicle Washed:', 18 => 'Tyre R/F (Available):', 19 => 'Tyre R/F (Thread Condition):', 20 => 'Tyre R/F Brand:', 21 => 'Tyre R/R (Available):', 22 => 'Tyre R/R (Available):', 23 => 'Tyre R/F Brand:', 24 => 'Tyre L/F (Available):', 25 => 'Tyre L/F (Thread Condition):', 26 => 'Tyre R/F Brand:', 27 => 'Tyre L/R (Available):', 28 => 'Tyre L/R (Thread Condition):', 29 => 'Tyre R/F Brand:', 30 => 'Fuel Gauge Amount:', 31 => 'Driver Name & Surname:', 32 => 'Driver Persal Number:', 33 => 'Driver Signature:', 34 => 'Declaration Date & Time:', 35 => 'Testing Officer/Tradesman Aid Name & Surname:', 36 => 'Testing Officer/Tradesman Aid Signature:', 37 => 'Vehicle Marks (1):', 38 => 'Vehicle Marks(2):', 39 => 'Vehicle Marks(3):', 40 => 'Vehicle Marks(4):', 41 => 'Vehicle Marks(5):', 42 => 'Vehicle Marks(6):', 43 => 'Vehicle Marks(7):', 44 => 'Vehicle Marks (8):', 45 => 'Remarks about Vehicle:', 46 => 'Vehicle  Return List:'],
					'display-field-names' => [0 => 'vehicle_return_check_list_id', 1 => 'vehicle_return_date', 2 => 'job_card_number', 3 => 'vehicle_registration_number', 4 => 'make_of_vehicle', 5 => 'model_of_vehicle', 6 => 'closing_km', 7 => 'radio_dvd_combination', 8 => 'number_of_keys_handling_over', 9 => 'jack_with_handle', 10 => 'tyre_spare', 11 => 'tyre_spare_condition', 12 => 'wheel_spanner', 13 => 'wheel_cups', 14 => 'tri_angles', 15 => 'other', 16 => 'number_of_keys', 17 => 'vehicle_washed', 18 => 'tyre_r_f', 19 => 'tyre_r_f_1', 20 => 'tyre_r_f_1_1', 21 => 'tyre_r_r', 22 => 'tyre_r_r_1', 23 => 'tyre_r_r_1_1', 24 => 'tyre_l_f', 25 => 'tyre_l_f_1', 26 => 'tyre_l_f_1_1', 27 => 'tyer_l_r', 28 => 'tyer_l_r_1', 29 => 'tyre_l_r_1_1', 30 => 'fuel_gauge_amount', 31 => 'driver_name_and_surname', 32 => 'driver_persal_number', 33 => 'driver_signature', 34 => 'vehicle_return_date_signed', 35 => 'testing_officer_name_and_surname', 36 => 'testing_officer_signature', 37 => 'vehicle_marks_1', 38 => 'vehicle_marks_2', 39 => 'vehicle_marks_3', 40 => 'vehicle_marks_4', 41 => 'vehicle_marks_5', 42 => 'vehicle_marks_6', 43 => 'vehicle_marks_7', 44 => 'vehicle_marks_8', 45 => 'remarks', 46 => 'vehicle_return_list'],
					'sortable-fields' => [0 => '`vehicle_return_check_list`.`vehicle_return_check_list_id`', 1 => '`vehicle_return_check_list`.`vehicle_return_date`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => 8, 8 => 9, 9 => 10, 10 => 11, 11 => 12, 12 => 13, 13 => 14, 14 => 15, 15 => 16, 16 => 17, 17 => 18, 18 => 19, 19 => 20, 20 => 21, 21 => 22, 22 => 23, 23 => 24, 24 => 25, 25 => 26, 26 => 27, 27 => 28, 28 => 29, 29 => 30, 30 => 31, 31 => 32, 32 => 33, 33 => 34, 34 => '`vehicle_return_check_list`.`vehicle_return_date_signed`', 35 => 36, 36 => 37, 37 => 38, 38 => 39, 39 => 40, 40 => 41, 41 => 42, 42 => 43, 43 => 44, 44 => 45, 45 => 46, 46 => 47],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-vehicle_return_check_list',
					'template-printable' => 'children-vehicle_return_check_list-printable',
					'query' => "SELECT `vehicle_return_check_list`.`vehicle_return_check_list_id` as 'vehicle_return_check_list_id', DATE_FORMAT(`vehicle_return_check_list`.`vehicle_return_date`, '%D %b %Y %l:%i%p') as 'vehicle_return_date', `vehicle_return_check_list`.`job_card_number` as 'job_card_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`) || CHAR_LENGTH(`gmt_fleet_register1`.`chassis_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`, '    |   and    |  ', `gmt_fleet_register1`.`chassis_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`dealer1`.`make_of_vehicle`) || CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`), CONCAT_WS('',   `dealer1`.`make_of_vehicle`, '   ', '   |  and  |   ', `gmt_fleet_register1`.`model_of_vehicle`), '') as 'make_of_vehicle', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`) || CHAR_LENGTH(`gmt_fleet_register1`.`chassis_number`), CONCAT_WS('',   `gmt_fleet_register1`.`model_of_vehicle`, '   |  and  |   ', `gmt_fleet_register1`.`chassis_number`), '') as 'model_of_vehicle', IF(    CHAR_LENGTH(`log_sheet1`.`closing_km`) || CHAR_LENGTH(`log_sheet1`.`fuel_log_sheet_id`), CONCAT_WS('',   `log_sheet1`.`closing_km`, '  |    and     |     ', `log_sheet1`.`fuel_log_sheet_id`), '') as 'closing_km', `vehicle_return_check_list`.`radio_dvd_combination` as 'radio_dvd_combination', `vehicle_return_check_list`.`number_of_keys_handling_over` as 'number_of_keys_handling_over', `vehicle_return_check_list`.`jack_with_handle` as 'jack_with_handle', `vehicle_return_check_list`.`tyre_spare` as 'tyre_spare', `vehicle_return_check_list`.`tyre_spare_condition` as 'tyre_spare_condition', `vehicle_return_check_list`.`wheel_spanner` as 'wheel_spanner', `vehicle_return_check_list`.`wheel_cups` as 'wheel_cups', `vehicle_return_check_list`.`tri_angles` as 'tri_angles', `vehicle_return_check_list`.`other` as 'other', `vehicle_return_check_list`.`number_of_keys` as 'number_of_keys', `vehicle_return_check_list`.`vehicle_washed` as 'vehicle_washed', `vehicle_return_check_list`.`tyre_r_f` as 'tyre_r_f', `vehicle_return_check_list`.`tyre_r_f_1` as 'tyre_r_f_1', `vehicle_return_check_list`.`tyre_r_f_1_1` as 'tyre_r_f_1_1', `vehicle_return_check_list`.`tyre_r_r` as 'tyre_r_r', `vehicle_return_check_list`.`tyre_r_r_1` as 'tyre_r_r_1', `vehicle_return_check_list`.`tyre_r_r_1_1` as 'tyre_r_r_1_1', `vehicle_return_check_list`.`tyre_l_f` as 'tyre_l_f', `vehicle_return_check_list`.`tyre_l_f_1` as 'tyre_l_f_1', `vehicle_return_check_list`.`tyre_l_f_1_1` as 'tyre_l_f_1_1', `vehicle_return_check_list`.`tyer_l_r` as 'tyer_l_r', `vehicle_return_check_list`.`tyer_l_r_1` as 'tyer_l_r_1', `vehicle_return_check_list`.`tyre_l_r_1_1` as 'tyre_l_r_1_1', `vehicle_return_check_list`.`fuel_gauge_amount` as 'fuel_gauge_amount', IF(    CHAR_LENGTH(`driver1`.`drivers_name_and_surname`) || CHAR_LENGTH(`driver1`.`drivers_persal_number`), CONCAT_WS('',   `driver1`.`drivers_name_and_surname`, '    |   and    |   ', `driver1`.`drivers_persal_number`), '') as 'driver_name_and_surname', IF(    CHAR_LENGTH(`driver1`.`drivers_persal_number`) || CHAR_LENGTH(`driver1`.`drivers_license_number`), CONCAT_WS('',   `driver1`.`drivers_persal_number`, '      |    and   |   ', `driver1`.`drivers_license_number`), '') as 'driver_persal_number', `vehicle_return_check_list`.`driver_signature` as 'driver_signature', if(`vehicle_return_check_list`.`vehicle_return_date_signed`,date_format(`vehicle_return_check_list`.`vehicle_return_date_signed`,'%d/%m/%Y %H:%i'),'') as 'vehicle_return_date_signed', `vehicle_return_check_list`.`testing_officer_name_and_surname` as 'testing_officer_name_and_surname', `vehicle_return_check_list`.`testing_officer_signature` as 'testing_officer_signature', `vehicle_return_check_list`.`vehicle_marks_1` as 'vehicle_marks_1', `vehicle_return_check_list`.`vehicle_marks_2` as 'vehicle_marks_2', `vehicle_return_check_list`.`vehicle_marks_3` as 'vehicle_marks_3', `vehicle_return_check_list`.`vehicle_marks_4` as 'vehicle_marks_4', `vehicle_return_check_list`.`vehicle_marks_5` as 'vehicle_marks_5', `vehicle_return_check_list`.`vehicle_marks_6` as 'vehicle_marks_6', `vehicle_return_check_list`.`vehicle_marks_7` as 'vehicle_marks_7', `vehicle_return_check_list`.`vehicle_marks_8` as 'vehicle_marks_8', `vehicle_return_check_list`.`remarks` as 'remarks', `vehicle_return_check_list`.`vehicle_return_list` as 'vehicle_return_list' FROM `vehicle_return_check_list` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`vehicle_return_check_list`.`vehicle_registration_number` LEFT JOIN `log_sheet` as log_sheet1 ON `log_sheet1`.`fuel_log_sheet_id`=`vehicle_return_check_list`.`closing_km` LEFT JOIN `driver` as driver1 ON `driver1`.`driver_id`=`vehicle_return_check_list`.`driver_name_and_surname` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`gmt_fleet_register1`.`make_of_vehicle` "
				],
			],
			'indicates_repair_damages_found_list' => [
			],
			'forms' => [
			],
			'identification_of_defects' => [
			],
			'gate_security' => [
			],
			'reception' => [
			],
			'inspection_bay' => [
			],
			'work_allocation' => [
			],
			'internal_repairs_mechanical' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'internal_mechanical_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Internal Repairs Mechanical: <span class="hidden child-label-internal_repairs_mechanical child-field-caption">(Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/document-prefs-icon.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Internal Mechanical ID:', 1 => 'Workshop Name:', 2 => 'Artisan Name & Surname:', 3 => 'Artisan Contacts:', 4 => 'Artisan Email Address:', 5 => 'Artisan Signature:', 6 => 'Artisan Note Of Starting Time:', 7 => 'Job Card Number:', 8 => 'Work Allocation Reference Number:', 9 => 'Registration Number:', 10 => 'Engine Number:', 11 => 'Make of Vehicle:', 12 => 'Pre Repairs Inspections:', 13 => 'Artisan Dismantling Solution:', 14 => 'Spares Order Quotation:', 15 => 'Spares Order Description:', 16 => 'Artisan Completion Time:', 17 => 'Inspection Bay:', 18 => 'Inspection bay report', 19 => 'Total Labour Hours Spend:'],
					'display-field-names' => [0 => 'internal_mechanical_id', 1 => 'workshop_name', 2 => 'artisan_name_and_surname', 3 => 'artisan_contacts', 4 => 'artisan_email_address', 5 => 'artisan_signature', 6 => 'artisan_note_of_starting_time', 7 => 'job_card_number', 8 => 'work_allocation_reference_number', 9 => 'vehicle_registration_number', 10 => 'engine_number', 11 => 'make_of_vehicle', 12 => 'pre_repair_inspections', 13 => 'artisan_dismantling_solution', 14 => 'spares_order_quotation', 15 => 'spares_order_description', 16 => 'artisan_note_of_completion_time', 17 => 'inspection_bay_lane_number', 18 => 'inspection_bay_report', 19 => 'total_labour_time'],
					'sortable-fields' => [0 => '`internal_repairs_mechanical`.`internal_mechanical_id`', 1 => 2, 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => '`internal_repairs_mechanical`.`artisan_note_of_starting_time`', 7 => '`reception1`.`job_card_number`', 8 => '`work_allocation1`.`work_allocation_reference_number`', 9 => '`gmt_fleet_register1`.`vehicle_registration_number`', 10 => '`gmt_fleet_register1`.`engine_number`', 11 => 12, 12 => 13, 13 => 14, 14 => 15, 15 => 16, 16 => '`internal_repairs_mechanical`.`artisan_note_of_completion_time`', 17 => '`inspection_bay1`.`inspection_bay_lane_number`', 18 => 19, 19 => '`internal_repairs_mechanical`.`total_labour_time`'],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-internal_repairs_mechanical',
					'template-printable' => 'children-internal_repairs_mechanical-printable',
					'query' => "SELECT `internal_repairs_mechanical`.`internal_mechanical_id` as 'internal_mechanical_id', IF(    CHAR_LENGTH(`districts1`.`station`) || CHAR_LENGTH(`districts1`.`district`), CONCAT_WS('',   `districts1`.`station`, '      |     and      |     ', `districts1`.`district`), '') as 'workshop_name', `internal_repairs_mechanical`.`artisan_name_and_surname` as 'artisan_name_and_surname', `internal_repairs_mechanical`.`artisan_contacts` as 'artisan_contacts', `internal_repairs_mechanical`.`artisan_email_address` as 'artisan_email_address', `internal_repairs_mechanical`.`artisan_signature` as 'artisan_signature', if(`internal_repairs_mechanical`.`artisan_note_of_starting_time`,date_format(`internal_repairs_mechanical`.`artisan_note_of_starting_time`,'%d/%m/%Y %H:%i'),'') as 'artisan_note_of_starting_time', IF(    CHAR_LENGTH(`reception1`.`job_card_number`), CONCAT_WS('',   `reception1`.`job_card_number`), '') as 'job_card_number', IF(    CHAR_LENGTH(`work_allocation1`.`work_allocation_reference_number`), CONCAT_WS('',   `work_allocation1`.`work_allocation_reference_number`), '') as 'work_allocation_reference_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`engine_number`), CONCAT_WS('',   `gmt_fleet_register1`.`engine_number`), '') as 'engine_number', IF(    CHAR_LENGTH(`dealer1`.`make_of_vehicle`) || CHAR_LENGTH(`dealer_type1`.`dealer_type`), CONCAT_WS('',   `dealer1`.`make_of_vehicle`, '   |    and     |     ', `dealer_type1`.`dealer_type`), '') as 'make_of_vehicle', `internal_repairs_mechanical`.`pre_repair_inspections` as 'pre_repair_inspections', `internal_repairs_mechanical`.`artisan_dismantling_solution` as 'artisan_dismantling_solution', `internal_repairs_mechanical`.`spares_order_quotation` as 'spares_order_quotation', `internal_repairs_mechanical`.`spares_order_description` as 'spares_order_description', if(`internal_repairs_mechanical`.`artisan_note_of_completion_time`,date_format(`internal_repairs_mechanical`.`artisan_note_of_completion_time`,'%d/%m/%Y %H:%i'),'') as 'artisan_note_of_completion_time', IF(    CHAR_LENGTH(`inspection_bay1`.`inspection_bay_lane_number`), CONCAT_WS('',   `inspection_bay1`.`inspection_bay_lane_number`), '') as 'inspection_bay_lane_number', `internal_repairs_mechanical`.`inspection_bay_report` as 'inspection_bay_report', `internal_repairs_mechanical`.`total_labour_time` as 'total_labour_time' FROM `internal_repairs_mechanical` LEFT JOIN `districts` as districts1 ON `districts1`.`district_id`=`internal_repairs_mechanical`.`workshop_name` LEFT JOIN `reception` as reception1 ON `reception1`.`reception_user_id`=`internal_repairs_mechanical`.`job_card_number` LEFT JOIN `work_allocation` as work_allocation1 ON `work_allocation1`.`work_allocation_id`=`internal_repairs_mechanical`.`work_allocation_reference_number` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`internal_repairs_mechanical`.`vehicle_registration_number` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`internal_repairs_mechanical`.`make_of_vehicle` LEFT JOIN `dealer_type` as dealer_type1 ON `dealer_type1`.`dealer_type_id`=`dealer1`.`dealer_type` LEFT JOIN `inspection_bay` as inspection_bay1 ON `inspection_bay1`.`inspection_bay_id`=`internal_repairs_mechanical`.`inspection_bay_lane_number` "
				],
			],
			'external_repairs_mechanical' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'external_mechanical_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'External Repairs Mechanical: <span class="hidden child-label-external_repairs_mechanical child-field-caption">(Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/document-preferences-2-icon.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Mechanical ID:', 1 => 'Department Inspector Name & Surname:', 2 => 'Inspector Persal Number:', 3 => 'Department Authorization Quote Note:', 4 => 'Department Inspector Signature:', 5 => 'Inspection Approval Repair Note:', 6 => 'Department Authorization Quote:', 7 => 'Service Provider Name:', 8 => 'Service Provider Type:', 9 => 'Service Provider Contacts:', 10 => 'Service Provider Address:', 11 => 'Service Provider Signature:', 12 => 'Repair Quote Service Provider:', 13 => 'Repair Qoute Service Providers:', 14 => 'Repair Requirement Note:', 15 => 'Merchant Type:', 16 => 'Merchant code', 17 => 'Merchant Name:', 18 => 'Merchant Contacts Details:', 19 => 'Merchant Email Address:', 20 => 'Merchant Signature:', 21 => 'Merchant Address:', 22 => 'Merchant Address Code:', 23 => 'Date of Vehicle Send:', 24 => 'Authorization Number:', 25 => 'Instruction Note:', 26 => 'Work Allocation Reference Number:', 27 => 'Registration Number:', 28 => 'Engine Number:', 29 => 'Make of Vehicle:', 30 => 'Date of Vehicle Received:', 31 => 'Monitor Progress:', 32 => 'Monitor the Quality of Workmanship:', 33 => 'Vehicle Inspection Report:', 34 => 'Upload Invoice:'],
					'display-field-names' => [0 => 'external_mechanical_id', 1 => 'department_inspector_name_and_surname', 2 => 'department_inspector_persal_number', 3 => 'department_authorization_quote_note', 4 => 'department_inspector_signature', 5 => 'inspection_approval_repair_note', 6 => 'department_authorization_quote', 7 => 'service_provider_name', 8 => 'service_provider_type', 9 => 'service_provider_contact_details', 10 => 'service_provider_address', 11 => 'service_provider_signature', 12 => 'service_provider_repair_quote_upload', 13 => 'service_provider_repair_quote', 14 => 'repair_requirement_note', 15 => 'merchant_type', 16 => 'merchant_code', 17 => 'merchant_name', 18 => 'merchant_contacts_details', 19 => 'merchant_email_address', 20 => 'merchant_signature', 21 => 'merchant_address', 22 => 'merchant_address_code', 23 => 'date_of_vehicle_send', 24 => 'authorization_number', 25 => 'instruction_note', 26 => 'work_allocation_reference_number', 27 => 'vehicle_registration_number', 28 => 'engine_number', 29 => 'make_of_vehicle', 30 => 'date_of_vehicle_received', 31 => 'mechanical_repair_progress_monitor', 32 => 'mechanical_repair_progress_monitor_quality_of_work_manship', 33 => 'vehicle_inspection_report', 34 => 'upload_invoice'],
					'sortable-fields' => [0 => '`external_repairs_mechanical`.`external_mechanical_id`', 1 => 2, 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`service_provider1`.`service_provider_name`', 8 => 9, 9 => '`service_provider3`.`service_provider_contact_email`', 10 => '`service_provider4`.`service_provider_street_address`', 11 => 12, 12 => 13, 13 => 14, 14 => 15, 15 => 16, 16 => 17, 17 => '`merchant3`.`merchant_name`', 18 => '`merchant4`.`merchant_contact_details`', 19 => '`merchant5`.`merchant_contact_email`', 20 => 21, 21 => '`merchant6`.`merchant_street_address`', 22 => '`merchant7`.`merchant_address_code`', 23 => '`external_repairs_mechanical`.`date_of_vehicle_send`', 24 => 25, 25 => 26, 26 => '`work_allocation1`.`work_allocation_reference_number`', 27 => '`gmt_fleet_register1`.`vehicle_registration_number`', 28 => '`gmt_fleet_register1`.`engine_number`', 29 => 30, 30 => '`external_repairs_mechanical`.`date_of_vehicle_received`', 31 => 32, 32 => 33, 33 => 34, 34 => 35],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-external_repairs_mechanical',
					'template-printable' => 'children-external_repairs_mechanical-printable',
					'query' => "SELECT `external_repairs_mechanical`.`external_mechanical_id` as 'external_mechanical_id', `external_repairs_mechanical`.`department_inspector_name_and_surname` as 'department_inspector_name_and_surname', `external_repairs_mechanical`.`department_inspector_persal_number` as 'department_inspector_persal_number', `external_repairs_mechanical`.`department_authorization_quote_note` as 'department_authorization_quote_note', `external_repairs_mechanical`.`department_inspector_signature` as 'department_inspector_signature', `external_repairs_mechanical`.`inspection_approval_repair_note` as 'inspection_approval_repair_note', `external_repairs_mechanical`.`department_authorization_quote` as 'department_authorization_quote', IF(    CHAR_LENGTH(`service_provider1`.`service_provider_name`), CONCAT_WS('',   `service_provider1`.`service_provider_name`), '') as 'service_provider_name', IF(    CHAR_LENGTH(`service_provider_type1`.`service_provider_type`), CONCAT_WS('',   `service_provider_type1`.`service_provider_type`), '') as 'service_provider_type', IF(    CHAR_LENGTH(`service_provider3`.`service_provider_contact_email`), CONCAT_WS('',   `service_provider3`.`service_provider_contact_email`), '') as 'service_provider_contact_details', IF(    CHAR_LENGTH(`service_provider4`.`service_provider_street_address`), CONCAT_WS('',   `service_provider4`.`service_provider_street_address`), '') as 'service_provider_address', `external_repairs_mechanical`.`service_provider_signature` as 'service_provider_signature', `external_repairs_mechanical`.`service_provider_repair_quote_upload` as 'service_provider_repair_quote_upload', `external_repairs_mechanical`.`service_provider_repair_quote` as 'service_provider_repair_quote', `external_repairs_mechanical`.`repair_requirement_note` as 'repair_requirement_note', IF(    CHAR_LENGTH(`merchant_type1`.`merchant_type`), CONCAT_WS('',   `merchant_type1`.`merchant_type`), '') as 'merchant_type', IF(    CHAR_LENGTH(`merchant2`.`merchant_code`) || CHAR_LENGTH(`merchant2`.`merchant_name`), CONCAT_WS('',   `merchant2`.`merchant_code`, '    |    and     |    ', `merchant2`.`merchant_name`), '') as 'merchant_code', IF(    CHAR_LENGTH(`merchant3`.`merchant_name`), CONCAT_WS('',   `merchant3`.`merchant_name`), '') as 'merchant_name', IF(    CHAR_LENGTH(`merchant4`.`merchant_contact_details`), CONCAT_WS('',   `merchant4`.`merchant_contact_details`), '') as 'merchant_contacts_details', IF(    CHAR_LENGTH(`merchant5`.`merchant_contact_email`), CONCAT_WS('',   `merchant5`.`merchant_contact_email`), '') as 'merchant_email_address', `external_repairs_mechanical`.`merchant_signature` as 'merchant_signature', IF(    CHAR_LENGTH(`merchant6`.`merchant_street_address`), CONCAT_WS('',   `merchant6`.`merchant_street_address`), '') as 'merchant_address', IF(    CHAR_LENGTH(`merchant7`.`merchant_address_code`), CONCAT_WS('',   `merchant7`.`merchant_address_code`), '') as 'merchant_address_code', DATE_FORMAT(`external_repairs_mechanical`.`date_of_vehicle_send`, '%e/%c/%Y %l:%i%p') as 'date_of_vehicle_send', IF(    CHAR_LENGTH(`claim1`.`authorization_number`) || CHAR_LENGTH(`claim1`.`claim_code`), CONCAT_WS('',   `claim1`.`authorization_number`, '     |   and   |     ', `claim1`.`claim_code`), '') as 'authorization_number', IF(    CHAR_LENGTH(`claim2`.`instruction_note`) || CHAR_LENGTH(`claim2`.`claim_code`), CONCAT_WS('',   `claim2`.`instruction_note`, '    |   and    |     ', `claim2`.`claim_code`), '') as 'instruction_note', IF(    CHAR_LENGTH(`work_allocation1`.`work_allocation_reference_number`), CONCAT_WS('',   `work_allocation1`.`work_allocation_reference_number`), '') as 'work_allocation_reference_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`engine_number`), CONCAT_WS('',   `gmt_fleet_register1`.`engine_number`), '') as 'engine_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`) || CHAR_LENGTH(`dealer1`.`make_of_vehicle`), CONCAT_WS('',   `gmt_fleet_register1`.`model_of_vehicle`, '   |    and     |     ', `dealer1`.`make_of_vehicle`, '   '), '') as 'make_of_vehicle', DATE_FORMAT(`external_repairs_mechanical`.`date_of_vehicle_received`, '%e/%c/%Y %l:%i%p') as 'date_of_vehicle_received', `external_repairs_mechanical`.`mechanical_repair_progress_monitor` as 'mechanical_repair_progress_monitor', `external_repairs_mechanical`.`mechanical_repair_progress_monitor_quality_of_work_manship` as 'mechanical_repair_progress_monitor_quality_of_work_manship', `external_repairs_mechanical`.`vehicle_inspection_report` as 'vehicle_inspection_report', `external_repairs_mechanical`.`upload_invoice` as 'upload_invoice' FROM `external_repairs_mechanical` LEFT JOIN `service_provider` as service_provider1 ON `service_provider1`.`service_provider_id`=`external_repairs_mechanical`.`service_provider_name` LEFT JOIN `service_provider` as service_provider2 ON `service_provider2`.`service_provider_id`=`external_repairs_mechanical`.`service_provider_type` LEFT JOIN `service_provider_type` as service_provider_type1 ON `service_provider_type1`.`service_provider_type_id`=`service_provider2`.`service_provider_type` LEFT JOIN `service_provider` as service_provider3 ON `service_provider3`.`service_provider_id`=`external_repairs_mechanical`.`service_provider_contact_details` LEFT JOIN `service_provider` as service_provider4 ON `service_provider4`.`service_provider_id`=`external_repairs_mechanical`.`service_provider_address` LEFT JOIN `merchant` as merchant1 ON `merchant1`.`merchant_id`=`external_repairs_mechanical`.`merchant_type` LEFT JOIN `merchant_type` as merchant_type1 ON `merchant_type1`.`merchant_type_id`=`merchant1`.`merchant_type` LEFT JOIN `merchant` as merchant2 ON `merchant2`.`merchant_id`=`external_repairs_mechanical`.`merchant_code` LEFT JOIN `merchant` as merchant3 ON `merchant3`.`merchant_id`=`external_repairs_mechanical`.`merchant_name` LEFT JOIN `merchant` as merchant4 ON `merchant4`.`merchant_id`=`external_repairs_mechanical`.`merchant_contacts_details` LEFT JOIN `merchant` as merchant5 ON `merchant5`.`merchant_id`=`external_repairs_mechanical`.`merchant_email_address` LEFT JOIN `merchant` as merchant6 ON `merchant6`.`merchant_id`=`external_repairs_mechanical`.`merchant_address` LEFT JOIN `merchant` as merchant7 ON `merchant7`.`merchant_id`=`external_repairs_mechanical`.`merchant_address_code` LEFT JOIN `claim` as claim1 ON `claim1`.`claim_id`=`external_repairs_mechanical`.`authorization_number` LEFT JOIN `claim` as claim2 ON `claim2`.`claim_id`=`external_repairs_mechanical`.`instruction_note` LEFT JOIN `work_allocation` as work_allocation1 ON `work_allocation1`.`work_allocation_id`=`external_repairs_mechanical`.`work_allocation_reference_number` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`external_repairs_mechanical`.`vehicle_registration_number` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`gmt_fleet_register1`.`make_of_vehicle` "
				],
			],
			'internal_repairs_body' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'internal_repairs_body_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Internal Repairs Body: <span class="hidden child-label-internal_repairs_body child-field-caption">(Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/machine_128 (2).png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Internal Repair Body ID:', 1 => 'Driver Name & Surname:', 2 => 'Driver Persal Number:', 3 => 'Driver Contacts Details:', 4 => 'Driver Email Address:', 5 => 'Driver License Code:', 6 => 'Driver License Number:', 7 => 'Driver license Upload:', 8 => 'Driver Signature:', 9 => 'Registration Number:', 10 => 'Engine Number:', 11 => 'Make of Vehicle:', 12 => 'Z181 Accident Form Attached:', 13 => 'Z181 Accident Form Uploaded:', 14 => 'Job Card Number:', 15 => 'Work Allocation Reference Number:', 16 => 'Artisan Note Of Starting Time:', 17 => 'Government Garage/Workshop Name:', 18 => 'Government Garage/Workshop Contact Details:', 19 => 'Government Garage/Workshop Address:', 20 => 'Government Garage/Workshop Email Address:', 21 => 'Damages Occured:', 22 => 'Upload of Internal Damages 1:', 23 => 'Upload of Internal Damages 2:', 24 => 'Upload of Internal Damages 3:', 25 => 'Upload of Internal Damages 4:', 26 => 'Head Panel Beating Quotation (R):', 27 => 'Head Panel Beating Quotation:', 28 => 'Head Panel Beating Name:', 29 => 'Head Panel Beating Contact Details: ', 30 => 'Head Panel Beating Address:', 31 => 'Head Panel Beating Signature:', 32 => 'Private Panel Beating Name:', 33 => 'Private Panel Beating Contact Deatils:', 34 => 'Private Panel Beating Address:', 35 => 'Private Panel Beating Quotation (R):', 36 => 'Private Panel Beating Quotation:', 37 => 'Artisan Completion Time:', 38 => 'Total Labour Hours Spend:'],
					'display-field-names' => [0 => 'internal_repairs_body_id', 1 => 'driver_name_and_surname', 2 => 'driver_persal_number', 3 => 'driver_contacts_details', 4 => 'driver_email_address', 5 => 'driver_license_code', 6 => 'driver_license_number', 7 => 'driver_license_upload', 8 => 'driver_signature', 9 => 'vehicle_registration_number', 10 => 'engine_number', 11 => 'make_of_vehicle', 12 => 'z181_accident_form', 13 => 'z181_accident_form_uploaded', 14 => 'job_card_number', 15 => 'work_allocation_reference_number', 16 => 'artisan_note_of_starting_time', 17 => 'government_garage_name', 18 => 'government_garage_contact_details', 19 => 'government_garage_address', 20 => 'government_garage_email_address', 21 => 'damages_occured', 22 => 'upload_of_internal_damages_1', 23 => 'upload_of_internal_damages_2', 24 => 'upload_of_internal_damages_3', 25 => 'upload_of_internal_damages_4', 26 => 'head_panel_beating_quotation', 27 => 'head_panel_beating_quotation_1', 28 => 'head_panel_beating_name', 29 => 'head_panel_beating_contact_details', 30 => 'head_panel_beating_address', 31 => 'head_panel_beating_signature', 32 => 'private_panel_beating_name', 33 => 'private_panel_beating_contact_details', 34 => 'private_panel_beating_address', 35 => 'private_panel_beating_quotation', 36 => 'private_panel_beating_quotation_2', 37 => 'artisan_note_of_completion_time', 38 => 'total_labour_time'],
					'sortable-fields' => [0 => '`internal_repairs_body`.`internal_repairs_body_id`', 1 => '`driver1`.`drivers_name_and_surname`', 2 => '`driver1`.`drivers_persal_number`', 3 => '`driver1`.`drivers_contact_details`', 4 => '`driver1`.`drivers_email_address`', 5 => '`driver1`.`drivers_license_code`', 6 => '`driver1`.`drivers_license_number`', 7 => 8, 8 => 9, 9 => '`gmt_fleet_register1`.`vehicle_registration_number`', 10 => '`gmt_fleet_register1`.`engine_number`', 11 => 12, 12 => 13, 13 => 14, 14 => '`reception1`.`job_card_number`', 15 => '`work_allocation1`.`work_allocation_reference_number`', 16 => '`internal_repairs_body`.`artisan_note_of_starting_time`', 17 => 18, 18 => 19, 19 => 20, 20 => 21, 21 => 22, 22 => 23, 23 => 24, 24 => 25, 25 => 26, 26 => 27, 27 => 28, 28 => 29, 29 => 30, 30 => 31, 31 => 32, 32 => 33, 33 => 34, 34 => 35, 35 => 36, 36 => 37, 37 => '`internal_repairs_body`.`artisan_note_of_completion_time`', 38 => '`internal_repairs_body`.`total_labour_time`'],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-internal_repairs_body',
					'template-printable' => 'children-internal_repairs_body-printable',
					'query' => "SELECT `internal_repairs_body`.`internal_repairs_body_id` as 'internal_repairs_body_id', IF(    CHAR_LENGTH(`driver1`.`drivers_name_and_surname`), CONCAT_WS('',   `driver1`.`drivers_name_and_surname`), '') as 'driver_name_and_surname', IF(    CHAR_LENGTH(`driver1`.`drivers_persal_number`), CONCAT_WS('',   `driver1`.`drivers_persal_number`), '') as 'driver_persal_number', IF(    CHAR_LENGTH(`driver1`.`drivers_contact_details`), CONCAT_WS('',   `driver1`.`drivers_contact_details`), '') as 'driver_contacts_details', IF(    CHAR_LENGTH(`driver1`.`drivers_email_address`), CONCAT_WS('',   `driver1`.`drivers_email_address`), '') as 'driver_email_address', IF(    CHAR_LENGTH(`driver1`.`drivers_license_code`), CONCAT_WS('',   `driver1`.`drivers_license_code`), '') as 'driver_license_code', IF(    CHAR_LENGTH(`driver1`.`drivers_license_number`), CONCAT_WS('',   `driver1`.`drivers_license_number`), '') as 'driver_license_number', `internal_repairs_body`.`driver_license_upload` as 'driver_license_upload', `internal_repairs_body`.`driver_signature` as 'driver_signature', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`engine_number`), CONCAT_WS('',   `gmt_fleet_register1`.`engine_number`), '') as 'engine_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`) || CHAR_LENGTH(`dealer1`.`make_of_vehicle`), CONCAT_WS('',   `gmt_fleet_register1`.`model_of_vehicle`, '   |    and     |     ', `dealer1`.`make_of_vehicle`, '   '), '') as 'make_of_vehicle', `internal_repairs_body`.`z181_accident_form` as 'z181_accident_form', `internal_repairs_body`.`z181_accident_form_uploaded` as 'z181_accident_form_uploaded', IF(    CHAR_LENGTH(`reception1`.`job_card_number`), CONCAT_WS('',   `reception1`.`job_card_number`), '') as 'job_card_number', IF(    CHAR_LENGTH(`work_allocation1`.`work_allocation_reference_number`), CONCAT_WS('',   `work_allocation1`.`work_allocation_reference_number`), '') as 'work_allocation_reference_number', DATE_FORMAT(`internal_repairs_body`.`artisan_note_of_starting_time`, '%e/%c/%Y %l:%i%p') as 'artisan_note_of_starting_time', IF(    CHAR_LENGTH(`districts1`.`station`) || CHAR_LENGTH(`districts1`.`district`), CONCAT_WS('',   `districts1`.`station`, '   |     and     |    ', `districts1`.`district`), '') as 'government_garage_name', `internal_repairs_body`.`government_garage_contact_details` as 'government_garage_contact_details', `internal_repairs_body`.`government_garage_address` as 'government_garage_address', `internal_repairs_body`.`government_garage_email_address` as 'government_garage_email_address', `internal_repairs_body`.`damages_occured` as 'damages_occured', `internal_repairs_body`.`upload_of_internal_damages_1` as 'upload_of_internal_damages_1', `internal_repairs_body`.`upload_of_internal_damages_2` as 'upload_of_internal_damages_2', `internal_repairs_body`.`upload_of_internal_damages_3` as 'upload_of_internal_damages_3', `internal_repairs_body`.`upload_of_internal_damages_4` as 'upload_of_internal_damages_4', `internal_repairs_body`.`head_panel_beating_quotation` as 'head_panel_beating_quotation', `internal_repairs_body`.`head_panel_beating_quotation_1` as 'head_panel_beating_quotation_1', `internal_repairs_body`.`head_panel_beating_name` as 'head_panel_beating_name', `internal_repairs_body`.`head_panel_beating_contact_details` as 'head_panel_beating_contact_details', `internal_repairs_body`.`head_panel_beating_address` as 'head_panel_beating_address', `internal_repairs_body`.`head_panel_beating_signature` as 'head_panel_beating_signature', `internal_repairs_body`.`private_panel_beating_name` as 'private_panel_beating_name', `internal_repairs_body`.`private_panel_beating_contact_details` as 'private_panel_beating_contact_details', `internal_repairs_body`.`private_panel_beating_address` as 'private_panel_beating_address', `internal_repairs_body`.`private_panel_beating_quotation` as 'private_panel_beating_quotation', `internal_repairs_body`.`private_panel_beating_quotation_2` as 'private_panel_beating_quotation_2', DATE_FORMAT(`internal_repairs_body`.`artisan_note_of_completion_time`, '%e/%c/%Y %l:%i%p') as 'artisan_note_of_completion_time', `internal_repairs_body`.`total_labour_time` as 'total_labour_time' FROM `internal_repairs_body` LEFT JOIN `driver` as driver1 ON `driver1`.`driver_id`=`internal_repairs_body`.`driver_name_and_surname` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`internal_repairs_body`.`vehicle_registration_number` LEFT JOIN `reception` as reception1 ON `reception1`.`reception_user_id`=`internal_repairs_body`.`job_card_number` LEFT JOIN `work_allocation` as work_allocation1 ON `work_allocation1`.`work_allocation_id`=`internal_repairs_body`.`work_allocation_reference_number` LEFT JOIN `districts` as districts1 ON `districts1`.`district_id`=`internal_repairs_body`.`government_garage_name` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`gmt_fleet_register1`.`make_of_vehicle` "
				],
			],
			'external_repairs_body' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'external_repair_body_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'External Repairs Body: <span class="hidden child-label-external_repairs_body child-field-caption">(Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/package_utilities.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'External Repair Body ID:', 1 => 'Panel Beating Name:', 2 => 'Panel Beating Contact Details:', 3 => 'Panel Beating Address:', 4 => 'Panel Beating Signature:', 5 => 'Panel Beating Quotation (R):', 6 => 'Panel Beating Quotation (R):', 7 => 'Service Provider Name:', 8 => 'Service Provider Type:', 9 => 'Service Provider Contact Details:', 10 => 'Service Provider Address:', 11 => 'Service Provider Branch:', 12 => 'Service Provider Branch Code:', 13 => 'Service Provider Signature:', 14 => 'Instruction Note:', 15 => 'Authorization Number:', 16 => 'Registration Number:', 17 => 'Engine Number:', 18 => 'Make of Vehicle:', 19 => 'Vehicle Colour:', 20 => 'Vehicle Inspection Done:', 21 => 'Vehicle Inspection Check List Form Upload:', 22 => 'Vehicle Tyre Sizes:', 23 => 'Vehicle Mirrow Check:', 24 => 'Vehicle Interior Condition:', 25 => 'Vehicle Exterior Condition:', 26 => 'Merchant Type:', 27 => 'Merchant Code:', 28 => 'Merchant Name:', 29 => 'Merchant Contacts Details:', 30 => 'Merchant Email Address:', 31 => 'Merchant Signature:', 32 => 'Merchant Address:', 33 => 'Merchant Address Code:', 34 => 'Merchant City:', 35 => 'Monitor Progress:', 36 => 'Monitor Quality of Workmanship:', 37 => 'Vehicle Inspection Report:', 38 => 'Upload Invoice:'],
					'display-field-names' => [0 => 'external_repair_body_id', 1 => 'head_panel_beating_name', 2 => 'head_panel_beating_contact_details', 3 => 'head_panel_beating_address', 4 => 'head_panel_beating_signature', 5 => 'panel_beating_quotation', 6 => 'panel_beating_quotation_approved_by_service_provider', 7 => 'service_provider_name', 8 => 'service_provider_type', 9 => 'service_provider_contact_details', 10 => 'service_provider_address', 11 => 'service_provider_branch', 12 => 'service_provider_branch_code', 13 => 'service_provider_signature', 14 => 'instruction_note', 15 => 'authorization_number', 16 => 'vehicle_registration_number', 17 => 'engine_number', 18 => 'make_of_vehicle', 19 => 'vehicle_colour', 20 => 'vehicle_inspection_done', 21 => 'vehicle_inspection_check_list_form', 22 => 'vehicle_tyre_sizes', 23 => 'vehicle_mirrow_check', 24 => 'vehicle_interior_condition', 25 => 'vehicle_exterior_condition', 26 => 'merchant_type', 27 => 'merchant_code', 28 => 'merchant_name', 29 => 'merchant_contacts_details', 30 => 'merchant_email_address', 31 => 'merchant_signature', 32 => 'merchant_address', 33 => 'merchant_address_code', 34 => 'merchant_city', 35 => 'head_panel_beating_monitor_progress', 36 => 'head_panel_beating_monitor_quality_of_work_manship', 37 => 'vehicle_inspection_report', 38 => 'upload_invoice'],
					'sortable-fields' => [0 => '`external_repairs_body`.`external_repair_body_id`', 1 => 2, 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`service_provider1`.`service_provider_name`', 8 => 9, 9 => '`service_provider3`.`service_provider_contact_details`', 10 => '`service_provider4`.`service_provider_street_address`', 11 => '`service_provider5`.`service_provider_branch`', 12 => '`service_provider6`.`service_provider_branch_code`', 13 => 14, 14 => 15, 15 => 16, 16 => '`gmt_fleet_register1`.`vehicle_registration_number`', 17 => '`gmt_fleet_register1`.`engine_number`', 18 => 19, 19 => 20, 20 => 21, 21 => 22, 22 => 23, 23 => 24, 24 => 25, 25 => 26, 26 => 27, 27 => '`merchant2`.`merchant_code`', 28 => '`merchant3`.`merchant_name`', 29 => '`merchant4`.`merchant_contact_details`', 30 => 31, 31 => 32, 32 => '`merchant5`.`merchant_street_address`', 33 => '`merchant6`.`merchant_address_code`', 34 => '`merchant7`.`merchant_city`', 35 => 36, 36 => 37, 37 => 38, 38 => 39],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-external_repairs_body',
					'template-printable' => 'children-external_repairs_body-printable',
					'query' => "SELECT `external_repairs_body`.`external_repair_body_id` as 'external_repair_body_id', `external_repairs_body`.`head_panel_beating_name` as 'head_panel_beating_name', `external_repairs_body`.`head_panel_beating_contact_details` as 'head_panel_beating_contact_details', `external_repairs_body`.`head_panel_beating_address` as 'head_panel_beating_address', `external_repairs_body`.`head_panel_beating_signature` as 'head_panel_beating_signature', `external_repairs_body`.`panel_beating_quotation` as 'panel_beating_quotation', `external_repairs_body`.`panel_beating_quotation_approved_by_service_provider` as 'panel_beating_quotation_approved_by_service_provider', IF(    CHAR_LENGTH(`service_provider1`.`service_provider_name`), CONCAT_WS('',   `service_provider1`.`service_provider_name`), '') as 'service_provider_name', IF(    CHAR_LENGTH(`service_provider_type1`.`service_provider_type`), CONCAT_WS('',   `service_provider_type1`.`service_provider_type`), '') as 'service_provider_type', IF(    CHAR_LENGTH(`service_provider3`.`service_provider_contact_details`), CONCAT_WS('',   `service_provider3`.`service_provider_contact_details`), '') as 'service_provider_contact_details', IF(    CHAR_LENGTH(`service_provider4`.`service_provider_street_address`), CONCAT_WS('',   `service_provider4`.`service_provider_street_address`), '') as 'service_provider_address', IF(    CHAR_LENGTH(`service_provider5`.`service_provider_branch`), CONCAT_WS('',   `service_provider5`.`service_provider_branch`), '') as 'service_provider_branch', IF(    CHAR_LENGTH(`service_provider6`.`service_provider_branch_code`), CONCAT_WS('',   `service_provider6`.`service_provider_branch_code`), '') as 'service_provider_branch_code', `external_repairs_body`.`service_provider_signature` as 'service_provider_signature', IF(    CHAR_LENGTH(`claim1`.`instruction_note`) || CHAR_LENGTH(`claim1`.`claim_code`), CONCAT_WS('',   `claim1`.`instruction_note`, '    |   and    |     ', `claim1`.`claim_code`), '') as 'instruction_note', IF(    CHAR_LENGTH(`claim1`.`authorization_number`) || CHAR_LENGTH(`claim1`.`claim_code`), CONCAT_WS('',   `claim1`.`authorization_number`, '     |   and   |     ', `claim1`.`claim_code`), '') as 'authorization_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`engine_number`), CONCAT_WS('',   `gmt_fleet_register1`.`engine_number`), '') as 'engine_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`) || CHAR_LENGTH(`dealer1`.`make_of_vehicle`), CONCAT_WS('',   `gmt_fleet_register1`.`model_of_vehicle`, '   |    and     |     ', `dealer1`.`make_of_vehicle`, '   '), '') as 'make_of_vehicle', IF(    CHAR_LENGTH(`vehicle_colour1`.`colour_of_vehicle`), CONCAT_WS('',   `vehicle_colour1`.`colour_of_vehicle`), '') as 'vehicle_colour', `external_repairs_body`.`vehicle_inspection_done` as 'vehicle_inspection_done', `external_repairs_body`.`vehicle_inspection_check_list_form` as 'vehicle_inspection_check_list_form', `external_repairs_body`.`vehicle_tyre_sizes` as 'vehicle_tyre_sizes', `external_repairs_body`.`vehicle_mirrow_check` as 'vehicle_mirrow_check', `external_repairs_body`.`vehicle_interior_condition` as 'vehicle_interior_condition', `external_repairs_body`.`vehicle_exterior_condition` as 'vehicle_exterior_condition', IF(    CHAR_LENGTH(`merchant_type1`.`merchant_type`), CONCAT_WS('',   `merchant_type1`.`merchant_type`), '') as 'merchant_type', IF(    CHAR_LENGTH(`merchant2`.`merchant_code`), CONCAT_WS('',   `merchant2`.`merchant_code`), '') as 'merchant_code', IF(    CHAR_LENGTH(`merchant3`.`merchant_name`), CONCAT_WS('',   `merchant3`.`merchant_name`), '') as 'merchant_name', IF(    CHAR_LENGTH(`merchant4`.`merchant_contact_details`), CONCAT_WS('',   `merchant4`.`merchant_contact_details`), '') as 'merchant_contacts_details', `external_repairs_body`.`merchant_email_address` as 'merchant_email_address', `external_repairs_body`.`merchant_signature` as 'merchant_signature', IF(    CHAR_LENGTH(`merchant5`.`merchant_street_address`), CONCAT_WS('',   `merchant5`.`merchant_street_address`), '') as 'merchant_address', IF(    CHAR_LENGTH(`merchant6`.`merchant_address_code`), CONCAT_WS('',   `merchant6`.`merchant_address_code`), '') as 'merchant_address_code', IF(    CHAR_LENGTH(`merchant7`.`merchant_city`), CONCAT_WS('',   `merchant7`.`merchant_city`), '') as 'merchant_city', `external_repairs_body`.`head_panel_beating_monitor_progress` as 'head_panel_beating_monitor_progress', `external_repairs_body`.`head_panel_beating_monitor_quality_of_work_manship` as 'head_panel_beating_monitor_quality_of_work_manship', `external_repairs_body`.`vehicle_inspection_report` as 'vehicle_inspection_report', `external_repairs_body`.`upload_invoice` as 'upload_invoice' FROM `external_repairs_body` LEFT JOIN `service_provider` as service_provider1 ON `service_provider1`.`service_provider_id`=`external_repairs_body`.`service_provider_name` LEFT JOIN `service_provider` as service_provider2 ON `service_provider2`.`service_provider_id`=`external_repairs_body`.`service_provider_type` LEFT JOIN `service_provider_type` as service_provider_type1 ON `service_provider_type1`.`service_provider_type_id`=`service_provider2`.`service_provider_type` LEFT JOIN `service_provider` as service_provider3 ON `service_provider3`.`service_provider_id`=`external_repairs_body`.`service_provider_contact_details` LEFT JOIN `service_provider` as service_provider4 ON `service_provider4`.`service_provider_id`=`external_repairs_body`.`service_provider_address` LEFT JOIN `service_provider` as service_provider5 ON `service_provider5`.`service_provider_id`=`external_repairs_body`.`service_provider_branch` LEFT JOIN `service_provider` as service_provider6 ON `service_provider6`.`service_provider_id`=`external_repairs_body`.`service_provider_branch_code` LEFT JOIN `claim` as claim1 ON `claim1`.`claim_id`=`external_repairs_body`.`instruction_note` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`external_repairs_body`.`vehicle_registration_number` LEFT JOIN `merchant` as merchant1 ON `merchant1`.`merchant_id`=`external_repairs_body`.`merchant_type` LEFT JOIN `merchant_type` as merchant_type1 ON `merchant_type1`.`merchant_type_id`=`merchant1`.`merchant_type` LEFT JOIN `merchant` as merchant2 ON `merchant2`.`merchant_id`=`external_repairs_body`.`merchant_code` LEFT JOIN `merchant` as merchant3 ON `merchant3`.`merchant_id`=`external_repairs_body`.`merchant_name` LEFT JOIN `merchant` as merchant4 ON `merchant4`.`merchant_id`=`external_repairs_body`.`merchant_contacts_details` LEFT JOIN `merchant` as merchant5 ON `merchant5`.`merchant_id`=`external_repairs_body`.`merchant_address` LEFT JOIN `merchant` as merchant6 ON `merchant6`.`merchant_id`=`external_repairs_body`.`merchant_address_code` LEFT JOIN `merchant` as merchant7 ON `merchant7`.`merchant_id`=`external_repairs_body`.`merchant_city` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`gmt_fleet_register1`.`make_of_vehicle` LEFT JOIN `vehicle_colour` as vehicle_colour1 ON `vehicle_colour1`.`vehicle_colour_id`=`gmt_fleet_register1`.`colour_of_vehicle` "
				],
			],
			'ordering_of_spares_for_internal_repairs' => [
			],
			'collection_of_repaired_vehicles' => [
			],
			'withdrawal_vehicle_from_operation' => [
				'vehicle_registration_number' => [
					'parent-table' => 'gmt_fleet_register',
					'parent-primary-key' => 'fleet_asset_id',
					'child-primary-key' => 'withdrawal_id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Withdrawal Of Vehicle: <span class="hidden child-label-withdrawal_vehicle_from_operation child-field-caption">(Vehicle Registration Number:)</span>',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/cabinet_128.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => [0 => 'Withdrawal ID:', 1 => 'Supervisor Name & Surname:', 2 => 'Supervisor Contact Details:', 3 => 'Supervisor Email Address:', 4 => 'Supervisor Signature:', 5 => 'Vehicle Registration Number:', 6 => 'Engine Number:', 7 => 'Make of Vehicle:', 8 => 'Purchased Price:', 9 => 'Date Of Service:', 10 => 'Date Of Next Service:', 11 => 'Renewal Of License:', 12 => 'Date Of Vehicle Withdrawal:', 13 => 'Description Of Vehicle Breakdown:', 14 => 'Tyre Inspection Report:', 15 => 'Document Checklist Report:', 16 => 'Compiled Technical Report:', 17 => 'District Officer Name & Surname:', 18 => 'District Officer Persal Number:', 19 => 'District Officer Contacts:', 20 => 'District Officer Signature:', 21 => 'District Officer Email Address:'],
					'display-field-names' => [0 => 'withdrawal_id', 1 => 'supervisor_name_and_surname', 2 => 'supervisor_contact_details', 3 => 'supervisor_email_address', 4 => 'supervisor_signature', 5 => 'vehicle_registration_number', 6 => 'engine_number', 7 => 'make_of_vehicle', 8 => 'purchased_price', 9 => 'date_of_service', 10 => 'date_of_next_service', 11 => 'renewal_of_license', 12 => 'date_of_vehicle', 13 => 'description_of_vehicle_breakdown', 14 => 'tyre_inspection_report', 15 => 'document_checklist_report', 16 => 'compiled_technical_report', 17 => 'district_officer_name_and_surname', 18 => 'district_officer_persal_number', 19 => 'district_officer_contacts', 20 => 'district_officer_signature', 21 => 'district_officer_email_address'],
					'sortable-fields' => [0 => '`withdrawal_vehicle_from_operation`.`withdrawal_id`', 1 => 2, 2 => 3, 3 => 4, 4 => 5, 5 => '`gmt_fleet_register1`.`vehicle_registration_number`', 6 => '`gmt_fleet_register1`.`engine_number`', 7 => 8, 8 => '`gmt_fleet_register1`.`purchase_price`', 9 => 10, 10 => 'date_format(`service1`.`date_of_next_service`,\'%d/%m/%Y\')', 11 => 'date_format(`gmt_fleet_register1`.`renewal_of_license`,\'%d/%m/%Y\')', 12 => '`withdrawal_vehicle_from_operation`.`date_of_vehicle`', 13 => 14, 14 => 15, 15 => 16, 16 => 17, 17 => 18, 18 => 19, 19 => 20, 20 => 21, 21 => 22],
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-withdrawal_vehicle_from_operation',
					'template-printable' => 'children-withdrawal_vehicle_from_operation-printable',
					'query' => "SELECT `withdrawal_vehicle_from_operation`.`withdrawal_id` as 'withdrawal_id', `withdrawal_vehicle_from_operation`.`supervisor_name_and_surname` as 'supervisor_name_and_surname', `withdrawal_vehicle_from_operation`.`supervisor_contact_details` as 'supervisor_contact_details', `withdrawal_vehicle_from_operation`.`supervisor_email_address` as 'supervisor_email_address', `withdrawal_vehicle_from_operation`.`supervisor_signature` as 'supervisor_signature', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`vehicle_registration_number`), CONCAT_WS('',   `gmt_fleet_register1`.`vehicle_registration_number`), '') as 'vehicle_registration_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`engine_number`), CONCAT_WS('',   `gmt_fleet_register1`.`engine_number`), '') as 'engine_number', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`model_of_vehicle`) || CHAR_LENGTH(`dealer1`.`make_of_vehicle`), CONCAT_WS('',   `gmt_fleet_register1`.`model_of_vehicle`, '   |    and     |     ', `dealer1`.`make_of_vehicle`, '   '), '') as 'make_of_vehicle', IF(    CHAR_LENGTH(`gmt_fleet_register1`.`purchase_price`), CONCAT_WS('',   `gmt_fleet_register1`.`purchase_price`), '') as 'purchased_price', IF(    CHAR_LENGTH(if(`schedule1`.`date`,date_format(`schedule1`.`date`,'%d/%m/%Y'),'')), CONCAT_WS('',   if(`schedule1`.`date`,date_format(`schedule1`.`date`,'%d/%m/%Y'),'')), '') as 'date_of_service', IF(    CHAR_LENGTH(if(`service1`.`date_of_next_service`,date_format(`service1`.`date_of_next_service`,'%d/%m/%Y'),'')), CONCAT_WS('',   if(`service1`.`date_of_next_service`,date_format(`service1`.`date_of_next_service`,'%d/%m/%Y'),'')), '') as 'date_of_next_service', IF(    CHAR_LENGTH(if(`gmt_fleet_register1`.`renewal_of_license`,date_format(`gmt_fleet_register1`.`renewal_of_license`,'%d/%m/%Y'),'')), CONCAT_WS('',   if(`gmt_fleet_register1`.`renewal_of_license`,date_format(`gmt_fleet_register1`.`renewal_of_license`,'%d/%m/%Y'),'')), '') as 'renewal_of_license', if(`withdrawal_vehicle_from_operation`.`date_of_vehicle`,date_format(`withdrawal_vehicle_from_operation`.`date_of_vehicle`,'%d/%m/%Y %H:%i'),'') as 'date_of_vehicle', `withdrawal_vehicle_from_operation`.`description_of_vehicle_breakdown` as 'description_of_vehicle_breakdown', `withdrawal_vehicle_from_operation`.`tyre_inspection_report` as 'tyre_inspection_report', `withdrawal_vehicle_from_operation`.`document_checklist_report` as 'document_checklist_report', `withdrawal_vehicle_from_operation`.`compiled_technical_report` as 'compiled_technical_report', `withdrawal_vehicle_from_operation`.`district_officer_name_and_surname` as 'district_officer_name_and_surname', `withdrawal_vehicle_from_operation`.`district_officer_persal_number` as 'district_officer_persal_number', `withdrawal_vehicle_from_operation`.`district_officer_contacts` as 'district_officer_contacts', `withdrawal_vehicle_from_operation`.`district_officer_signature` as 'district_officer_signature', `withdrawal_vehicle_from_operation`.`district_officer_email_address` as 'district_officer_email_address' FROM `withdrawal_vehicle_from_operation` LEFT JOIN `gmt_fleet_register` as gmt_fleet_register1 ON `gmt_fleet_register1`.`fleet_asset_id`=`withdrawal_vehicle_from_operation`.`vehicle_registration_number` LEFT JOIN `service` as service1 ON `service1`.`service_id`=`withdrawal_vehicle_from_operation`.`date_of_service` LEFT JOIN `schedule` as schedule1 ON `schedule1`.`schedule_id`=`service1`.`date_of_service` LEFT JOIN `dealer` as dealer1 ON `dealer1`.`dealer_id`=`gmt_fleet_register1`.`make_of_vehicle` "
				],
			],
			'costing' => [
			],
			'billing' => [
			],
			'general_control_measures' => [
			],
			'movement_of_personnel_in_government_garage_and_workshops' => [
			],
			'service_provider' => [
			],
			'service_provider_type' => [
			],
			'vehicle_annual_inspection' => [
			],
		];

	/*************************************/
	/* End of configuration */


	include_once(__DIR__ . '/lib.php');
	@header('Content-Type: text/html; charset=' . datalist_db_encoding);

	handle_maintenance();

	/**
	* dynamic configuration based on current user's permissions
	* $userPCConfig array is populated only with parent tables where the user has access to
	* at least one child table
	*/
	$userPCConfig = [];
	foreach($pcConfig as $pcChildTable => $ChildrenLookups) {
		$permChild = getTablePermissions($pcChildTable);
		if(!$permChild['view']) continue;

		foreach($ChildrenLookups as $ChildLookupField => $ChildConfig) {
			$permParent = getTablePermissions($ChildConfig['parent-table']);
			if(!$permParent['view']) continue;

			$userPCConfig[$pcChildTable][$ChildLookupField] = $pcConfig[$pcChildTable][$ChildLookupField];
			// show add new only if configured above AND the user has insert permission
			$userPCConfig[$pcChildTable][$ChildLookupField]['display-add-new'] = ($permChild['insert'] && $pcConfig[$pcChildTable][$ChildLookupField]['display-add-new']);
		}
	}

	/* Receive, UTF-convert, and validate parameters */
	$ParentTable = Request::val('ParentTable'); // needed only with operation=show-children, will be validated in the processing code
	$ChildTable = Request::val('ChildTable');
		if(!in_array($ChildTable, array_keys($userPCConfig))) {
			/* defaults to first child table in config array if not provided */
			$ChildTable = current(array_keys($userPCConfig));
		}
		if(!$ChildTable) { die('<!-- No tables accessible to current user -->'); }
	$SelectedID = strip_tags(Request::val('SelectedID'));
	$ChildLookupField = Request::val('ChildLookupField');
		if(!in_array($ChildLookupField, array_keys($userPCConfig[$ChildTable]))) {
			/* defaults to first lookup in current child config array if not provided */
			$ChildLookupField = current(array_keys($userPCConfig[$ChildTable]));
		}
	$Page = intval(Request::val('Page'));
		if($Page < 1) $Page = 1;
	$SortBy = (Request::val('SortBy') != '' ? abs(intval(Request::val('SortBy'))) : false);
		if(!in_array($SortBy, array_keys($userPCConfig[$ChildTable][$ChildLookupField]['sortable-fields']), true))
			$SortBy = $userPCConfig[$ChildTable][$ChildLookupField]['default-sort-by'];
	$SortDirection = strtolower(Request::val('SortDirection'));
		if(!in_array($SortDirection, ['asc', 'desc']))
			$SortDirection = $userPCConfig[$ChildTable][$ChildLookupField]['default-sort-direction'];
	$Operation = strtolower(Request::val('Operation'));
		if(!in_array($Operation, ['get-records', 'show-children', 'get-records-printable', 'show-children-printable']))
			$Operation = 'get-records';

	/* process requested operation */
	switch($Operation) {
		/************************************************/
		case 'show-children':
			/* populate HTML and JS content with children tabs */
			$tabLabels = $tabPanels = $tabLoaders = '';
			foreach($userPCConfig as $ChildTable => $childLookups) {
				foreach($childLookups as $ChildLookupField => $childConfig) {
					if($childConfig['parent-table'] != $ParentTable) continue;

					$TableIcon = ($childConfig['table-icon'] ? "<img src=\"{$childConfig['table-icon']}\" border=\"0\">" : '');

					$tabLabels .= "<li class=\"child-tab-label child-table-{$ChildTable} lookup-field-{$ChildLookupField} " . ($tabLabels ? '' : 'active') . "\">" .
							"<a href=\"#panel_{$ChildTable}-{$ChildLookupField}\" id=\"tab_{$ChildTable}-{$ChildLookupField}\" data-toggle=\"tab\">" .
								$TableIcon . $childConfig['tab-label'] .
								"<span class=\"badge child-count child-count-{$ChildTable}-{$ChildLookupField}\"></span>" .
							"</a>" .
						"</li>\n\t\t\t\t";

					$tabPanels .= "<div id=\"panel_{$ChildTable}-{$ChildLookupField}\" class=\"tab-pane" . ($tabPanels ? '' : ' active') . "\">" .
							"<i class=\"glyphicon glyphicon-refresh loop-rotate\"></i> " .
							"{$Translation['Loading ...']}" .
						"</div>\n\t\t\t\t";

					$tabLoaders .= "post('parent-children.php', " . json_encode([
							'ChildTable' => $ChildTable,
							'ChildLookupField' => $ChildLookupField,
							'SelectedID' => $SelectedID,
							'Page' => 1,
							'SortBy' => '',
							'SortDirection' => '',
							'Operation' => 'get-records'
						]) . ", 'panel_{$ChildTable}-{$ChildLookupField}');\n\t\t\t\t";
				}
			}

			if(!$tabLabels) { die('<!-- no children of current parent table are accessible to current user -->'); }
			?>
			<div id="children-tabs">
				<ul class="nav nav-tabs">
					<?php echo $tabLabels; ?>
				</ul>
				<span id="pc-loading"></span>
			</div>
			<div class="tab-content"><?php echo $tabPanels; ?></div>

			<script>
				$j(function() {
					/* for iOS, avoid loading child tabs in modals */
					var iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
					var embedded = ($j('.navbar').length == 0);
					if(iOS && embedded) {
						$j('#children-tabs').next('.tab-content').remove();
						$j('#children-tabs').remove();
						return;
					}

					/* ajax loading of each tab's contents */
					<?php echo $tabLoaders; ?>

					/* show child field caption on tab title in case the same child table appears more than once */
					$j('.child-field-caption').each(function() {
						var clss = $j(this).attr('class').split(/\s+/).reduce(function(rc, cc) {
							return (cc.match(/child-label-.*/) ? '.' + cc : rc);
						}, '');

						// if class occurs more than once, remove .hidden
						if($j(clss).length > 1) $j(clss).removeClass('hidden');
					})
				})
			</script>
			<?php
			break;

		/************************************************/
		case 'show-children-printable':
			/* populate HTML and JS content with children buttons */
			$tabLabels = $tabPanels = $tabLoaders = '';
			foreach($userPCConfig as $ChildTable => $childLookups) {
				foreach($childLookups as $ChildLookupField => $childConfig) {
					if($childConfig['parent-table'] != $ParentTable) continue;

					$TableIcon = ($childConfig['table-icon'] ? "<img src=\"{$childConfig['table-icon']}\" border=\"0\">" : '');

					$tabLabels .= "<button type=\"button\" class=\"btn btn-default child-tab-print-toggler\" data-target=\"#panel_{$ChildTable}-{$ChildLookupField}\" id=\"tab_{$ChildTable}-{$ChildLookupField}\" data-toggle=\"collapse\">" .
							"{$TableIcon} {$childConfig['tab-label']}" .
							"<span class=\"badge child-count child-count-{$ChildTable}-{$ChildLookupField}\"></span>" .
						"</button>\n\t\t\t\t\t";

					$tabPanels .= "<div id=\"panel_{$ChildTable}-{$ChildLookupField}\" class=\"collapse child-panel-print\">" .
							"<i class=\"glyphicon glyphicon-refresh loop-rotate\"></i> " .
							$Translation['Loading ...'] .
						"</div>\n\t\t\t\t";

					$tabLoaders .= "post('parent-children.php', " . json_encode([
							'ChildTable' => $ChildTable,
							'ChildLookupField' => $ChildLookupField,
							'SelectedID' => $SelectedID,
							'Page' => 1,
							'SortBy' => '',
							'SortDirection' => '',
							'Operation' => 'get-records-printable'
						]) . ", 'panel_{$ChildTable}-{$ChildLookupField}');\n\t\t\t\t";
				}
			}

			if(!$tabLabels) { die('<!-- no children of current parent table are accessible to current user -->'); }
			?>
			<div id="children-tabs" class="hidden-print">
				<div class="btn-group btn-group-lg">
					<?php echo $tabLabels; ?>
				</div>
				<span id="pc-loading"></span>
			</div>
			<div class="vspacer-lg"><?php echo $tabPanels; ?></div>

			<script>
				$j(function() {
					/* for iOS, avoid loading child tabs in modals */
					var iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
					var embedded = ($j('.navbar').length == 0);
					if(iOS && embedded) {
						$j('#children-tabs').next('.tab-content').remove();
						$j('#children-tabs').remove();
						return;
					}

					/* ajax loading of each tab's contents */
					<?php echo $tabLoaders; ?>
				})
			</script>
			<?php
			break;

		/************************************************/
		case 'get-records-printable':
		default: /* default is 'get-records' */

			if($Operation == 'get-records-printable') {
				$userPCConfig[$ChildTable][$ChildLookupField]['records-per-page'] = 2000;
			}

			// build the user permissions limiter
			$permissionsWhere = $permissionsJoin = '';
			$permChild = getTablePermissions($ChildTable);
			if($permChild['view'] == 1) { // user can view only his own records
				$permissionsWhere = "`$ChildTable`.`{$userPCConfig[$ChildTable][$ChildLookupField]['child-primary-key']}`=`membership_userrecords`.`pkValue` AND `membership_userrecords`.`tableName`='$ChildTable' AND LCASE(`membership_userrecords`.`memberID`)='" . getLoggedMemberID() . "'";
			} elseif($permChild['view'] == 2) { // user can view only his group's records
				$permissionsWhere = "`$ChildTable`.`{$userPCConfig[$ChildTable][$ChildLookupField]['child-primary-key']}`=`membership_userrecords`.`pkValue` AND `membership_userrecords`.`tableName`='$ChildTable' AND `membership_userrecords`.`groupID`='" . getLoggedGroupID() . "'";
			} elseif($permChild['view'] == 3) { // user can view all records
				/* that's the only case remaining ... no need to modify the query in this case */
			}
			$permissionsJoin = ($permissionsWhere ? ", `membership_userrecords`" : '');

			// build the count query
			$forcedWhere = $userPCConfig[$ChildTable][$ChildLookupField]['forced-where'];
			$query = 
				preg_replace('/^select .* from /i', 'SELECT count(1) FROM ', $userPCConfig[$ChildTable][$ChildLookupField]['query']) .
				$permissionsJoin . " WHERE " .
				($permissionsWhere ? "( $permissionsWhere )" : "( 1=1 )") . " AND " .
				($forcedWhere ? "( $forcedWhere )" : "( 2=2 )") . " AND " .
				"`$ChildTable`.`$ChildLookupField`='" . makeSafe($SelectedID) . "'";
			$totalMatches = sqlValue($query);

			// make sure $Page is <= max pages
			$maxPage = ceil($totalMatches / $userPCConfig[$ChildTable][$ChildLookupField]['records-per-page']);
			if($Page > $maxPage) { $Page = $maxPage; }

			// initiate output data array
			$data = [
				'config' => $userPCConfig[$ChildTable][$ChildLookupField],
				'parameters' => [
					'ChildTable' => $ChildTable,
					'ChildLookupField' => $ChildLookupField,
					'SelectedID' => $SelectedID,
					'Page' => $Page,
					'SortBy' => $SortBy,
					'SortDirection' => $SortDirection,
					'Operation' => $Operation,
				],
				'records' => [],
				'totalMatches' => $totalMatches
			];

			// build the data query
			if($totalMatches) { // if we have at least one record, proceed with fetching data
				$startRecord = $userPCConfig[$ChildTable][$ChildLookupField]['records-per-page'] * ($Page - 1);
				$data['query'] = 
					$userPCConfig[$ChildTable][$ChildLookupField]['query'] .
					$permissionsJoin . " WHERE " .
					($permissionsWhere ? "( $permissionsWhere )" : "( 1=1 )") . " AND " .
					($forcedWhere ? "( $forcedWhere )" : "( 2=2 )") . " AND " .
					"`$ChildTable`.`$ChildLookupField`='" . makeSafe($SelectedID) . "'" . 
					($SortBy !== false && $userPCConfig[$ChildTable][$ChildLookupField]['sortable-fields'][$SortBy] ? " ORDER BY {$userPCConfig[$ChildTable][$ChildLookupField]['sortable-fields'][$SortBy]} $SortDirection" : '') .
					" LIMIT $startRecord, {$userPCConfig[$ChildTable][$ChildLookupField]['records-per-page']}";
				$res = sql($data['query'], $eo);
				while($row = db_fetch_row($res)) {
					$data['records'][$row[$userPCConfig[$ChildTable][$ChildLookupField]['child-primary-key-index']]] = $row;
				}
			} else { // if no matching records
				$startRecord = 0;
			}

			if($Operation == 'get-records-printable') {
				$response = loadView($userPCConfig[$ChildTable][$ChildLookupField]['template-printable'], $data);
			} else {
				$response = loadView($userPCConfig[$ChildTable][$ChildLookupField]['template'], $data);
			}

			// change name space to ensure uniqueness
			$uniqueNameSpace = $ChildTable.ucfirst($ChildLookupField).'GetRecords';
			echo str_replace("{$ChildTable}GetChildrenRecordsList", $uniqueNameSpace, $response);
		/************************************************/
	}
